{"ast":null,"code":"var _jsxFileName = \"D:\\\\cms-v2\\\\src\\\\pages\\\\cms\\\\Store\\\\StoreEdit.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport \"../../../styles/store/store.scss\"; // import SwitchButton from \"../../../components/ReactElement/SwitchButton\";\n// import EditRestaurant from \"../../../components/ReactElement/EditRestaurant\";\n\nimport StoreList from \"../../../components/Store/StoreList\"; //下拉多選\n\nimport { Select } from \"antd\";\nimport nobg from \"../../../images/images/background/nobg.png\";\nimport { storesShowApi, storesEditApi } from \"../../../middleware/api\"; //上傳圖片\n\nimport { imgUploadApi } from \"../../../middleware/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction StoreEdit() {\n  _s();\n\n  const switchRef = useRef();\n  const storeNameRef = useRef();\n  const store_codeRef = useRef();\n  const uniformRef = useRef();\n  const briefRef = useRef(); // const pictureRef = useRef();\n  // const picture_machine_logoRef = useRef();\n  // const picture_app_logoRef = useRef();\n  // const attributesRef = useRef();\n\n  const contact_nameRef = useRef();\n  const contact_telRef = useRef();\n  const contact_emailRef = useRef();\n  let {\n    storeid\n  } = useParams(); // const test123 = () => {\n  //   console.log(switchRef && switchRef.current.props.checked);\n  // };\n  // test123();\n\n  const history = useHistory(); // const [companyData, setCompanyData] = useState({ storeState: false });\n  // const [roomProperty, setRoomProperty] = useState(\"roomProperty\");\n\n  const {\n    Option\n  } = Select;\n\n  function handleChange(value) {\n    console.log(`selected ${value}`);\n  } // const [storeState, setStoreState] = useState(true);\n\n\n  const [storeShow, setStoreShow] = useState([]);\n\n  const getStoreShow = async () => {\n    try {\n      const repStoreShow = await storesShowApi(storeid);\n      setStoreShow(repStoreShow.data.data.dataInfo); // setCompanyData({ storeState: repStoreShow.data.data.dataInfo.status });\n    } catch (error) {\n      console.log(\"異常\", error);\n    }\n  };\n\n  const postStoreUpdate = () => {\n    storesEditApi({\n      id: storeid,\n      vendor_id: storeShow.vendor_id,\n      company_id: storeShow.company_id,\n      status: switchRef.current.checked,\n      service_fee: 0,\n      score: 0,\n      total_score: 0,\n      valid_orders: 0,\n      picture: storeShow.picture,\n      picture_app_logo: storeShow.picture_app_logo,\n      picture_machine_logo: storeShow.picture_machine_logo,\n      name: storeNameRef.current.value,\n      store_code: store_codeRef.current.value,\n      uniform: uniformRef.current.value,\n      brief: briefRef.current.value,\n      contact_name: contact_nameRef.current.value,\n      contact_tel: contact_telRef.current.value,\n      contact_email: contact_emailRef.current.value,\n      config: {\n        id: storeShow.config.id,\n        store_id: storeShow.config.store_id,\n        in_invoice: storeShow.config.in_invoice,\n        emails: storeShow.config.emails,\n        phones: storeShow.config.phones,\n        send_sms: storeShow.config.send_sms,\n        is_takeout: storeShow.config.is_takeout\n      },\n      shippingPeriods: storeShow.shippingPeriods,\n      attributes: storeShow.attributes\n    }).then(res => {\n      getStoreShow();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    getStoreShow();\n  }, []);\n  console.log(storeShow); //上傳圖片API\n\n  const postStoreIMGAPI = async e => {\n    if (e.target.files[0] === undefined) {\n      console.log(\"我為空\");\n      let newaName = e.target.name;\n      setStoreShow({ ...storeShow,\n        [newaName]: \"\"\n      });\n      return;\n    }\n\n    console.log(e.target.name);\n    Array.from(e.target.files).forEach(i => {\n      let formData = new FormData();\n      formData.append(\"file\", i);\n      formData.append(\"folder\", \"item\");\n      imgUploadApi(formData).then(res => {\n        let newaName = e.target.name;\n        console.log(res);\n        setStoreShow({ ...storeShow,\n          [newaName]: res.data.data.file_url\n        });\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"storeContext\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"storeGroup\",\n      children: [/*#__PURE__*/_jsxDEV(StoreList, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"storeRight\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"storeCreatGroup my-0\",\n          style: {\n            width: \"auto\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"storeCreatTextTitle\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u7DE8\\u8F2F\\u5E97\\u5BB6\\u8CC7\\u6599\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"storeCreatTextBody\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextItem\",\n              style: {\n                width: \"85%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\u72C0\\u614B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"switchToggle\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"switchOnOff\",\n                  type: \"checkbox\",\n                  name: \"state\",\n                  id: \"switch\",\n                  defaultChecked: storeShow.status,\n                  ref: switchRef,\n                  onClick: () => {\n                    console.log(contact_emailRef.current.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"switch\",\n                  children: \"Toggle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextItem col-12 col-xl-4 \",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\u5E97\\u5BB6\\u540D\\u7A31\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"storeStoreHeading\",\n                defaultValue: storeShow.name,\n                ref: storeNameRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextItem col-12 col-xl-4 \",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\u5E97\\u5BB6\\u7DE8\\u865F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"storeStoreNumbers\",\n                defaultValue: storeShow.store_code,\n                ref: store_codeRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextItem col-12 col-xl-4 \",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\u5E97\\u5BB6\\u7D71\\u7DE8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"storeStoreUNumbers\",\n                defaultValue: storeShow.uniform,\n                ref: uniformRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextItem\",\n              style: {\n                width: \"100%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\u5E97\\u5BB6\\u7C21\\u8FF0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                placeholder: \"\\u8ACB\\u8F38\\u5165\\u5167\\u5BB9\",\n                name: \"storeStoreText\",\n                defaultValue: storeShow.brief,\n                ref: briefRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatImgRow\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatImgGroup\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"APP\\u5E97\\u5BB6\\u4E3B\\u5716\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/png, image/jpeg\",\n                  name: \"picture\",\n                  onChange: e => {\n                    postStoreIMGAPI(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this), storeShow.picture ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-100 d-flex\",\n                  style: {\n                    backgroundColor: \"#F0F3F5\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-100\",\n                    src: storeShow.picture,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-100 d-flex\",\n                  style: {\n                    backgroundColor: \"#F0F3F5\",\n                    height: \"140px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-25\",\n                    src: nobg,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatImgGroup\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\u6A5F\\u53F0\\u4E0ALOGO\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/png, image/jpeg\",\n                  name: \"picture_machine_logo\",\n                  onChange: e => {\n                    postStoreIMGAPI(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), storeShow.picture_machine_logo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-100 d-flex\",\n                  style: {\n                    backgroundColor: \"#F0F3F5\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-100\",\n                    src: storeShow.picture_machine_logo,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-100 d-flex\",\n                  style: {\n                    backgroundColor: \"#F0F3F5\",\n                    height: \"140px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-25\",\n                    src: nobg,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatImgGroup\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"APP\\u5E97\\u5BB6LOGO\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/png, image/jpeg\",\n                  name: \"picture_app_logo\",\n                  onChange: e => {\n                    postStoreIMGAPI(e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), storeShow.picture_app_logo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-100 d-flex\",\n                  style: {\n                    backgroundColor: \"#F0F3F5\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-100\",\n                    src: storeShow.picture_app_logo,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-100 d-flex\",\n                  style: {\n                    backgroundColor: \"#F0F3F5\",\n                    height: \"140px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"w-25\",\n                    src: nobg,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex col-12 my-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" col-4 mx-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\u53EF\\u4F7F\\u7528\\u529F\\u80FD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  className: \"canuser\",\n                  mode: \"multiple\",\n                  name: \"canuser\",\n                  allowClear: true,\n                  style: {\n                    width: \"100%\"\n                  },\n                  placeholder: \"\\u8ACB\\u9078\\u64C7\" // defaultValue={[\"a10\", \"c12\"]}\n                  ,\n                  onChange: handleChange,\n                  children: [/*#__PURE__*/_jsxDEV(Option, {\n                    value: \"\\u5916\\u5E36\",\n                    children: \"\\u5916\\u5E36\"\n                  }, \"1\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Option, {\n                    value: \"\\u6AC3\\u53D6\",\n                    children: \"\\u6AC3\\u53D6\"\n                  }, \"2\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-7 mx-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\u53EF\\u4F7F\\u7528\\u6A5F\\u53F0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  mode: \"multiple\",\n                  allowClear: true,\n                  style: {\n                    width: \"100%\"\n                  },\n                  placeholder: \"\\u8ACB\\u9078\\u64C7\" // defaultValue={[\"a10\", \"c12\"]}\n                  ,\n                  onChange: handleChange,\n                  children: [/*#__PURE__*/_jsxDEV(Option, {\n                    value: \"A1\",\n                    children: \"A1\"\n                  }, \"1\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Option, {\n                    value: \"A2\",\n                    children: \"A2\"\n                  }, \"2\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Option, {\n                    value: \"A3\",\n                    children: \"A3\"\n                  }, \"3\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextItem storeCreatTextItemCheck\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\u9910\\u5EF3\\u5C6C\\u6027\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatTextItemCheckGroup\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextItem col-12 col-xl-4 \",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\u806F\\u7D61\\u4EBA\\u59D3\\u540D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"storeStoreName\",\n                defaultValue: storeShow.contact_name,\n                ref: contact_nameRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextItem col-12 col-xl-4 \",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\u806F\\u7D61\\u4EBA\\u96FB\\u8A71\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"storeStoreCell\",\n                defaultValue: storeShow.contact_tel,\n                ref: contact_telRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextItem col-12 col-xl-4 \",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: \"\\u806F\\u7D61\\u4EBA\\u4FE1\\u7BB1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"storeStoreEmail\",\n                defaultValue: storeShow.contact_email,\n                ref: contact_emailRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"StoreEditBtn d-flex \",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary mx-3\",\n                onClick: () => {\n                  history.push(\"/store\");\n                },\n                children: \"\\u53D6\\u6D88\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success mx-3 text-white\",\n                onClick: () => {\n                  Swal.fire({\n                    title: \"確定要修改店家資料嗎?\",\n                    text: \"請確認是否要將資料修改，修改後將無法復原\",\n                    icon: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#009E88\",\n                    cancelButtonColor: \"#C8CED3\",\n                    cancelButtonText: \"取消\",\n                    confirmButtonText: \"確定\",\n                    reverseButtons: true\n                  }).then(result => {\n                    if (result.isConfirmed) {\n                      Swal.fire({\n                        title: \"修改成功!\",\n                        text: \"店家資料已修改完成.\",\n                        icon: \"success\",\n                        confirmButtonColor: \"#00BFA5\",\n                        confirmButtonText: \"確定\"\n                      });\n                    }\n                  });\n                  postStoreUpdate();\n                },\n                children: \"\\u5132\\u5B58\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n}\n\n_s(StoreEdit, \"58OzIzSjMcUP3QihrKhlQk49GRI=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = StoreEdit;\nexport default StoreEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreEdit\");","map":{"version":3,"sources":["D:/cms-v2/src/pages/cms/Store/StoreEdit.js"],"names":["React","useState","useRef","useEffect","useHistory","useParams","Swal","StoreList","Select","nobg","storesShowApi","storesEditApi","imgUploadApi","StoreEdit","switchRef","storeNameRef","store_codeRef","uniformRef","briefRef","contact_nameRef","contact_telRef","contact_emailRef","storeid","history","Option","handleChange","value","console","log","storeShow","setStoreShow","getStoreShow","repStoreShow","data","dataInfo","error","postStoreUpdate","id","vendor_id","company_id","status","current","checked","service_fee","score","total_score","valid_orders","picture","picture_app_logo","picture_machine_logo","name","store_code","uniform","brief","contact_name","contact_tel","contact_email","config","store_id","in_invoice","emails","phones","send_sms","is_takeout","shippingPeriods","attributes","then","res","catch","err","postStoreIMGAPI","e","target","files","undefined","newaName","Array","from","forEach","i","formData","FormData","append","file_url","width","backgroundColor","height","push","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","reverseButtons","result","isConfirmed"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport \"../../../styles/store/store.scss\";\r\n// import SwitchButton from \"../../../components/ReactElement/SwitchButton\";\r\n// import EditRestaurant from \"../../../components/ReactElement/EditRestaurant\";\r\nimport StoreList from \"../../../components/Store/StoreList\";\r\n//下拉多選\r\nimport { Select } from \"antd\";\r\nimport nobg from \"../../../images/images/background/nobg.png\";\r\nimport { storesShowApi, storesEditApi } from \"../../../middleware/api\";\r\n//上傳圖片\r\nimport { imgUploadApi } from \"../../../middleware/api\";\r\nfunction StoreEdit() {\r\n  const switchRef = useRef();\r\n  const storeNameRef = useRef();\r\n  const store_codeRef = useRef();\r\n  const uniformRef = useRef();\r\n  const briefRef = useRef();\r\n  // const pictureRef = useRef();\r\n  // const picture_machine_logoRef = useRef();\r\n  // const picture_app_logoRef = useRef();\r\n  // const attributesRef = useRef();\r\n  const contact_nameRef = useRef();\r\n  const contact_telRef = useRef();\r\n  const contact_emailRef = useRef();\r\n  let { storeid } = useParams();\r\n  // const test123 = () => {\r\n  //   console.log(switchRef && switchRef.current.props.checked);\r\n  // };\r\n  // test123();\r\n  const history = useHistory();\r\n  // const [companyData, setCompanyData] = useState({ storeState: false });\r\n  // const [roomProperty, setRoomProperty] = useState(\"roomProperty\");\r\n  const { Option } = Select;\r\n  function handleChange(value) {\r\n    console.log(`selected ${value}`);\r\n  }\r\n  // const [storeState, setStoreState] = useState(true);\r\n  const [storeShow, setStoreShow] = useState([]);\r\n  const getStoreShow = async () => {\r\n    try {\r\n      const repStoreShow = await storesShowApi(storeid);\r\n      setStoreShow(repStoreShow.data.data.dataInfo);\r\n      // setCompanyData({ storeState: repStoreShow.data.data.dataInfo.status });\r\n    } catch (error) {\r\n      console.log(\"異常\", error);\r\n    }\r\n  };\r\n  const postStoreUpdate = () => {\r\n    storesEditApi({\r\n      id: storeid,\r\n      vendor_id: storeShow.vendor_id,\r\n      company_id: storeShow.company_id,\r\n      status: switchRef.current.checked,\r\n      service_fee: 0,\r\n      score: 0,\r\n      total_score: 0,\r\n      valid_orders: 0,\r\n      picture: storeShow.picture,\r\n      picture_app_logo: storeShow.picture_app_logo,\r\n      picture_machine_logo: storeShow.picture_machine_logo,\r\n      name: storeNameRef.current.value,\r\n      store_code: store_codeRef.current.value,\r\n      uniform: uniformRef.current.value,\r\n      brief: briefRef.current.value,\r\n      contact_name: contact_nameRef.current.value,\r\n      contact_tel: contact_telRef.current.value,\r\n      contact_email: contact_emailRef.current.value,\r\n      config: {\r\n        id: storeShow.config.id,\r\n        store_id: storeShow.config.store_id,\r\n        in_invoice: storeShow.config.in_invoice,\r\n        emails: storeShow.config.emails,\r\n        phones: storeShow.config.phones,\r\n        send_sms: storeShow.config.send_sms,\r\n        is_takeout: storeShow.config.is_takeout,\r\n      },\r\n      shippingPeriods: storeShow.shippingPeriods,\r\n      attributes: storeShow.attributes,\r\n    })\r\n      .then((res) => {\r\n        getStoreShow();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    getStoreShow();\r\n  }, []);\r\n  console.log(storeShow);\r\n  //上傳圖片API\r\n  const postStoreIMGAPI = async (e) => {\r\n    if (e.target.files[0] === undefined) {\r\n      console.log(\"我為空\");\r\n      let newaName = e.target.name;\r\n      setStoreShow({ ...storeShow, [newaName]: \"\" });\r\n      return;\r\n    }\r\n    console.log(e.target.name);\r\n    Array.from(e.target.files).forEach((i) => {\r\n      let formData = new FormData();\r\n      formData.append(\"file\", i);\r\n      formData.append(\"folder\", \"item\");\r\n      imgUploadApi(formData).then((res) => {\r\n        let newaName = e.target.name;\r\n        console.log(res);\r\n        setStoreShow({\r\n          ...storeShow,\r\n          [newaName]: res.data.data.file_url,\r\n        });\r\n      });\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"storeContext\">\r\n      <div className=\"storeGroup\">\r\n        <StoreList />\r\n        <div className=\"storeRight\">\r\n          <div className=\"storeCreatGroup my-0\" style={{ width: \"auto\" }}>\r\n            <div className=\"storeCreatTextTitle\">\r\n              <p>編輯店家資料</p>\r\n            </div>\r\n            <div className=\"storeCreatTextBody\">\r\n              <div className=\"storeCreatTextItem\" style={{ width: \"85%\" }}>\r\n                <h6>狀態</h6>\r\n                {/* 手切SwitchBtn */}\r\n                <div className=\"switchToggle\">\r\n                  <input\r\n                    className=\"switchOnOff\"\r\n                    type=\"checkbox\"\r\n                    name=\"state\"\r\n                    id=\"switch\"\r\n                    defaultChecked={storeShow.status}\r\n                    ref={switchRef}\r\n                    onClick={() => {\r\n                      console.log(contact_emailRef.current.value);\r\n                    }}\r\n                  />\r\n                  <label htmlFor=\"switch\">Toggle</label>\r\n                </div>\r\n              </div>\r\n              <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                <h6>店家名稱</h6>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"storeStoreHeading\"\r\n                  defaultValue={storeShow.name}\r\n                  ref={storeNameRef}\r\n                />\r\n              </div>\r\n              <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                <h6>店家編號</h6>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"storeStoreNumbers\"\r\n                  defaultValue={storeShow.store_code}\r\n                  ref={store_codeRef}\r\n                />\r\n              </div>\r\n              <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                <h6>店家統編</h6>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"storeStoreUNumbers\"\r\n                  defaultValue={storeShow.uniform}\r\n                  ref={uniformRef}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"storeCreatTextItem\" style={{ width: \"100%\" }}>\r\n                <h6>店家簡述</h6>\r\n                <textarea\r\n                  placeholder=\"請輸入內容\"\r\n                  name=\"storeStoreText\"\r\n                  defaultValue={storeShow.brief}\r\n                  ref={briefRef}\r\n                ></textarea>\r\n              </div>\r\n\r\n              {/* <EasyCrop /> */}\r\n              <div className=\"storeCreatImgRow\">\r\n                <div className=\"storeCreatImgGroup\">\r\n                  <p>APP店家主圖</p>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/png, image/jpeg\"\r\n                    name=\"picture\"\r\n                    onChange={(e) => {\r\n                      postStoreIMGAPI(e);\r\n                    }}\r\n                  />\r\n                  {storeShow.picture ? (\r\n                    <div\r\n                      className=\"w-100 d-flex\"\r\n                      style={{ backgroundColor: \"#F0F3F5\" }}\r\n                    >\r\n                      <img className=\"w-100\" src={storeShow.picture} alt=\"\" />\r\n                    </div>\r\n                  ) : (\r\n                    <div\r\n                      className=\"w-100 d-flex\"\r\n                      style={{ backgroundColor: \"#F0F3F5\", height: \"140px\" }}\r\n                    >\r\n                      <img className=\"w-25\" src={nobg} alt=\"\" />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"storeCreatImgGroup\">\r\n                  <p>機台上LOGO</p>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/png, image/jpeg\"\r\n                    name=\"picture_machine_logo\"\r\n                    onChange={(e) => {\r\n                      postStoreIMGAPI(e);\r\n                    }}\r\n                  />\r\n                  {storeShow.picture_machine_logo ? (\r\n                    <div\r\n                      className=\"w-100 d-flex\"\r\n                      style={{ backgroundColor: \"#F0F3F5\" }}\r\n                    >\r\n                      <img\r\n                        className=\"w-100\"\r\n                        src={storeShow.picture_machine_logo}\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <div\r\n                      className=\"w-100 d-flex\"\r\n                      style={{ backgroundColor: \"#F0F3F5\", height: \"140px\" }}\r\n                    >\r\n                      <img className=\"w-25\" src={nobg} alt=\"\" />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"storeCreatImgGroup\">\r\n                  <p>APP店家LOGO</p>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/png, image/jpeg\"\r\n                    name=\"picture_app_logo\"\r\n                    onChange={(e) => {\r\n                      postStoreIMGAPI(e);\r\n                    }}\r\n                  />\r\n                  {storeShow.picture_app_logo ? (\r\n                    <div\r\n                      className=\"w-100 d-flex\"\r\n                      style={{ backgroundColor: \"#F0F3F5\" }}\r\n                    >\r\n                      <img\r\n                        className=\"w-100\"\r\n                        src={storeShow.picture_app_logo}\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <div\r\n                      className=\"w-100 d-flex\"\r\n                      style={{ backgroundColor: \"#F0F3F5\", height: \"140px\" }}\r\n                    >\r\n                      <img className=\"w-25\" src={nobg} alt=\"\" />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex col-12 my-3\">\r\n                {/* 下拉多選套件 */}\r\n                <div className=\" col-4 mx-3\">\r\n                  <p>可使用功能</p>\r\n                  <Select\r\n                    className=\"canuser\"\r\n                    mode=\"multiple\"\r\n                    name=\"canuser\"\r\n                    allowClear\r\n                    style={{ width: \"100%\" }}\r\n                    placeholder=\"請選擇\"\r\n                    // defaultValue={[\"a10\", \"c12\"]}\r\n                    onChange={handleChange}\r\n                  >\r\n                    <Option key=\"1\" value=\"外帶\">\r\n                      外帶\r\n                    </Option>\r\n                    <Option key=\"2\" value=\"櫃取\">\r\n                      櫃取\r\n                    </Option>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"col-7 mx-3\">\r\n                  <p>可使用機台</p>\r\n                  <Select\r\n                    mode=\"multiple\"\r\n                    allowClear\r\n                    style={{ width: \"100%\" }}\r\n                    placeholder=\"請選擇\"\r\n                    // defaultValue={[\"a10\", \"c12\"]}\r\n                    onChange={handleChange}\r\n                  >\r\n                    {/* {children} */}\r\n                    <Option key=\"1\" value=\"A1\">\r\n                      A1\r\n                    </Option>\r\n                    <Option key=\"2\" value=\"A2\">\r\n                      A2\r\n                    </Option>\r\n                    <Option key=\"3\" value=\"A3\">\r\n                      A3\r\n                    </Option>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* 餐廳屬性 */}\r\n              <div className=\"storeCreatTextItem storeCreatTextItemCheck\">\r\n                <h6>餐廳屬性</h6>\r\n                <div className=\"storeCreatTextItemCheckGroup\">\r\n                  {/* {roomProperty &&\r\n              roomProperty.map((item, index) => (\r\n                <div key={item.id} className=\"storeCreatTextItemCheckGroupItem\">\r\n                  <input\r\n                    className=\"storeCreatTextItemCheckInput\"\r\n                    type=\"checkbox\"\r\n                    value={item.cname}\r\n                    name=\"storeStoreAttr\"\r\n                  />\r\n                  <label>{item.cname}</label>\r\n                </div>\r\n              ))} */}\r\n                </div>\r\n\r\n                {/* <EditRestaurant\r\n                  buttonTitle={\"管理餐廳屬性\"}\r\n                  buttonClassName={\"btn btn-outline-dark\"}\r\n                  modalTitle={\"編輯餐廳屬性\"}\r\n                  removeColor={\"light\"}\r\n                  enterColor={\"success text-white\"}\r\n                  roomProperty={roomProperty}\r\n                  setRoomProperty={setRoomProperty}\r\n                /> */}\r\n              </div>\r\n              <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                <h6>聯絡人姓名</h6>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"storeStoreName\"\r\n                  defaultValue={storeShow.contact_name}\r\n                  ref={contact_nameRef}\r\n                />\r\n              </div>\r\n              <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                <h6>聯絡人電話</h6>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"storeStoreCell\"\r\n                  defaultValue={storeShow.contact_tel}\r\n                  ref={contact_telRef}\r\n                />\r\n              </div>\r\n              <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                <h6>聯絡人信箱</h6>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"storeStoreEmail\"\r\n                  defaultValue={storeShow.contact_email}\r\n                  ref={contact_emailRef}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"StoreEditBtn d-flex \">\r\n                <button\r\n                  className=\"btn btn-secondary mx-3\"\r\n                  onClick={() => {\r\n                    history.push(\"/store\");\r\n                  }}\r\n                >\r\n                  取消\r\n                </button>\r\n                {/* <Link to=\"/store\">取消</Link> */}\r\n                <button\r\n                  className=\"btn btn-success mx-3 text-white\"\r\n                  onClick={() => {\r\n                    Swal.fire({\r\n                      title: \"確定要修改店家資料嗎?\",\r\n                      text: \"請確認是否要將資料修改，修改後將無法復原\",\r\n                      icon: \"warning\",\r\n                      showCancelButton: true,\r\n                      confirmButtonColor: \"#009E88\",\r\n                      cancelButtonColor: \"#C8CED3\",\r\n                      cancelButtonText: \"取消\",\r\n                      confirmButtonText: \"確定\",\r\n                      reverseButtons: true,\r\n                    }).then((result) => {\r\n                      if (result.isConfirmed) {\r\n                        Swal.fire({\r\n                          title: \"修改成功!\",\r\n                          text: \"店家資料已修改完成.\",\r\n                          icon: \"success\",\r\n                          confirmButtonColor: \"#00BFA5\",\r\n                          confirmButtonText: \"確定\",\r\n                        });\r\n                      }\r\n                    });\r\n\r\n                    postStoreUpdate();\r\n                  }}\r\n                >\r\n                  儲存\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StoreEdit;\r\n"]},"metadata":{},"sourceType":"module"}