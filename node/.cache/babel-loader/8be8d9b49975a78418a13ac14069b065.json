{"ast":null,"code":"var _jsxFileName = \"D:\\\\NewWork\\\\src\\\\pages\\\\weather\\\\weather.js\";\nimport ReactDOM from 'react-dom'; // import Parallax  from 'react-parallax';\n\nimport dayjs from 'dayjs';\nimport { WeatherApi } from \"../../api/api\";\nimport { TaiwanCitys } from \"./weatherEl\";\nimport \"../../styles/work/weather.css\";\nimport \"../../styles/Obj/Nature/sun.css\";\nimport { WhatDates } from \"./weatherFunction\";\nimport { SvgWave } from \"../../components/Objs/Nature/waveSVG\";\nimport mountains from \"../../images/png/el/101.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet Today = new Date(); //今天日期\n\nlet TimeFrom = dayjs(Today).format('YYYY-MM-DD') + \"T06:00:00\"; //開始時間\n\nlet TimeTo = dayjs(Today).format('YYYY-MM-DD') + \"T18:00:00\"; //結束時間\n// 中央氣象API每天區分為8小時的時間給API時段\n\nexport function Day12Hrs(day) {\n  if (dayjs(day).format('HH') === \"00\" && dayjs(day).format('DD') !== dayjs(Today).format('DD')) {\n    TimeFrom = dayjs(day).format('YYYY-MM-DD') + \"T06:00:00\";\n    TimeTo = dayjs(day).format('YYYY-MM-DD') + \"T18:00:00\";\n    WeatherMap();\n  } else if (dayjs(day).format('DD') === dayjs(Today).format('DD')) {\n    if (dayjs(Today).format('HH') < \"18\") {\n      TimeFrom = dayjs(Today).format('YYYY-MM-DD') + \"T06:00:00\";\n      TimeTo = dayjs(Today).format('YYYY-MM-DD') + \"T18:00:00\";\n    } else if (dayjs(Today).format('HH') >= \"18\") {\n      TimeFrom = dayjs(Today).format('YYYY-MM-DD') + \"T18:00:00\";\n      TimeTo = dayjs(Today).add(1, 'day').format('YYYY-MM-DD') + \"T06:00:00\";\n    }\n\n    WeatherMap();\n  } else {\n    if (dayjs(day).format('HH') < \"18\") {\n      TimeFrom = dayjs(day).format('YYYY-MM-DD') + \"T06:00:00\";\n      TimeTo = dayjs(day).format('YYYY-MM-DD') + \"T18:00:00\";\n    } else if (dayjs(day).format('HH') >= \"18\") {\n      TimeFrom = dayjs(day).format('YYYY-MM-DD') + \"T18:00:00\";\n      TimeTo = dayjs(day).add(1, 'day').format('YYYY-MM-DD') + \"T06:00:00\";\n    }\n\n    WeatherMap();\n  } // console.log(dayjs(day).format('YYYY-MM-DD-HH'))\n  // console.log(TimeFrom)\n  // console.log(TimeTo)\n\n} // ===============  氣象紀錄 ==================\n// 晴時多雲 多雲時陰短暫雨 陰有雨 陰陣雨\n// 稍有寒意至舒適 寒冷\n// ==============天氣氣象局API渲染資料======================\n\n_c = Day12Hrs;\n\nlet WeatherMap = async () => {\n  let SelectArea = document.getElementsByClassName(\"SelectArea\")[0];\n\n  try {\n    let Item = await WeatherApi(document.getElementsByClassName(\"SelectCitys\")[0].value, TimeFrom, TimeTo);\n    let Citys = Item.data.records.locations[0].location.map((item, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: i,\n      children: item.locationName\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this));\n    ReactDOM.render( /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: Citys\n    }, void 0, false), SelectArea);\n    setTimeout(() => {\n      let MaxATs = Item.data.records.locations[0].location[SelectArea.value].weatherElement[5].time.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        value: i,\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"\\u6700\\u9AD8\\u6EAB\\u5EA6:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: [item.elementValue[0].value, \" \\u5EA6\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 35\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this));\n      ReactDOM.render( /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: MaxATs\n      }, void 0, false), document.getElementsByClassName(\"MaxAT\")[0]);\n      let MinTs = Item.data.records.locations[0].location[SelectArea.value].weatherElement[8].time.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        value: i,\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"\\u6700\\u4F4E\\u6EAB\\u5EA6:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: [item.elementValue[0].value, \" \\u5EA6\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 35\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this));\n      ReactDOM.render( /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: MinTs\n      }, void 0, false), document.getElementsByClassName(\"MinT\")[0]);\n      let POPs = Item.data.records.locations[0].location[SelectArea.value].weatherElement[0].time.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        value: i,\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"\\u964D\\u96E8\\u6A5F\\u7387:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: [item.elementValue[0].value, \" %\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 35\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this));\n      ReactDOM.render( /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: POPs\n      }, void 0, false), document.getElementsByClassName(\"POP\")[0]);\n\n      if (Item.data.records.locations[0].location[SelectArea.value].weatherElement[9].time.length > 0) {\n        let UVIs = Item.data.records.locations[0].location[SelectArea.value].weatherElement[9].time.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          value: i,\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"\\u7D2B\\u5916\\u7DDA\\u6307\\u6578:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: item.elementValue[0].value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 40\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this));\n        document.getElementsByClassName(\"UVI\")[0].style.display = \"flex\";\n        ReactDOM.render( /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: UVIs\n        }, void 0, false), document.getElementsByClassName(\"UVI\")[0]);\n      } else {\n        document.getElementsByClassName(\"UVI\")[0].style.display = \"none\";\n      }\n\n      let Wxs = Item.data.records.locations[0].location[SelectArea.value].weatherElement[6].time.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        value: i,\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"\\u5929\\u6C23\\u72C0\\u6CC1:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: item.elementValue[0].value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 35\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this));\n      ReactDOM.render( /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: Wxs\n      }, void 0, false), document.getElementsByClassName(\"Wx\")[0]);\n    }, 500);\n  } catch (error) {\n    console.log(\"異常\", error);\n  }\n};\n\n_c2 = WeatherMap;\nexport function Weather() {\n  setTimeout(() => {\n    Day12Hrs(Today);\n  }, 100);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"WeatherBackground\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"WeatherContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"scene\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"layer\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"\",\n            src: mountains\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"layer\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Sun\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"layer\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"WeatherTexts\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"WeatherSelectGroups\",\n                children: [/*#__PURE__*/_jsxDEV(TaiwanCitys, {\n                  onChange: () => {\n                    WeatherMap();\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"SelectArea\",\n                  onChange: () => {\n                    WeatherMap();\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"WeatherSelectGroups\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    if (dayjs(document.getElementsByClassName(\"dates\")[0].textContent).format('YYYY-MM-DD') !== dayjs(Today).format('YYYY-MM-DD')) {\n                      WhatDates(\"Y\");\n                      setTimeout(() => {\n                        Day12Hrs(dayjs(document.getElementsByClassName(\"dates\")[0].textContent).format('YYYY-MM-DD'));\n                      }, 500);\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dates WeatherText\",\n                  children: dayjs(Today).format(\"YYYY-MM-DD\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"NextDay\",\n                  onClick: () => {\n                    if (dayjs(document.getElementsByClassName(\"dates\")[0].textContent).format('YYYY-MM-DD') !== dayjs(Today).add(6, 'day').format('YYYY-MM-DD')) {\n                      WhatDates(\"T\");\n                      setTimeout(() => {\n                        Day12Hrs(dayjs(document.getElementsByClassName(\"dates\")[0].textContent).format('YYYY-MM-DD'));\n                      }, 500);\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"MaxAT WeatherText\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"MinT WeatherText\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"POP WeatherText\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"Wx WeatherText\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"UVI WeatherText\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(SvgWave, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 12\n  }, this);\n}\n_c3 = Weather;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Day12Hrs\");\n$RefreshReg$(_c2, \"WeatherMap\");\n$RefreshReg$(_c3, \"Weather\");","map":{"version":3,"sources":["D:/NewWork/src/pages/weather/weather.js"],"names":["ReactDOM","dayjs","WeatherApi","TaiwanCitys","WhatDates","SvgWave","mountains","Today","Date","TimeFrom","format","TimeTo","Day12Hrs","day","WeatherMap","add","SelectArea","document","getElementsByClassName","Item","value","Citys","data","records","locations","location","map","item","i","locationName","render","setTimeout","MaxATs","weatherElement","time","elementValue","MinTs","POPs","length","UVIs","style","display","Wxs","error","console","log","Weather","textContent"],"mappings":"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","sourcesContent":["import ReactDOM from 'react-dom';\r\n// import Parallax  from 'react-parallax';\r\nimport dayjs from 'dayjs';\r\nimport { WeatherApi } from \"../../api/api\";\r\nimport { TaiwanCitys } from \"./weatherEl\";\r\nimport \"../../styles/work/weather.css\";\r\nimport \"../../styles/Obj/Nature/sun.css\";\r\nimport { WhatDates } from \"./weatherFunction\";\r\nimport { SvgWave } from \"../../components/Objs/Nature/waveSVG\";\r\nimport mountains from \"../../images/png/el/101.png\";\r\n\r\nlet Today = new Date();  //今天日期\r\nlet TimeFrom = dayjs(Today).format('YYYY-MM-DD') + \"T06:00:00\"; //開始時間\r\nlet TimeTo = dayjs(Today).format('YYYY-MM-DD') + \"T18:00:00\"; //結束時間\r\n\r\n// 中央氣象API每天區分為8小時的時間給API時段\r\nexport function Day12Hrs(day) {\r\n    if (dayjs(day).format('HH') === \"00\" && dayjs(day).format('DD') !== dayjs(Today).format('DD')) {\r\n        TimeFrom = dayjs(day).format('YYYY-MM-DD') + \"T06:00:00\";\r\n        TimeTo = dayjs(day).format('YYYY-MM-DD') + \"T18:00:00\";\r\n        WeatherMap();\r\n    }\r\n    else if (dayjs(day).format('DD') === dayjs(Today).format('DD')) {\r\n        if (dayjs(Today).format('HH') < \"18\") {\r\n            TimeFrom = dayjs(Today).format('YYYY-MM-DD') + \"T06:00:00\";\r\n            TimeTo = dayjs(Today).format('YYYY-MM-DD') + \"T18:00:00\";\r\n        }\r\n        else if (dayjs(Today).format('HH') >= \"18\") {\r\n            TimeFrom = dayjs(Today).format('YYYY-MM-DD') + \"T18:00:00\";\r\n            TimeTo = dayjs(Today).add(1, 'day').format('YYYY-MM-DD') + \"T06:00:00\";\r\n        }\r\n        WeatherMap();\r\n    }\r\n    else {\r\n        if (dayjs(day).format('HH') < \"18\") {\r\n            TimeFrom = dayjs(day).format('YYYY-MM-DD') + \"T06:00:00\";\r\n            TimeTo = dayjs(day).format('YYYY-MM-DD') + \"T18:00:00\";\r\n        }\r\n        else if (dayjs(day).format('HH') >= \"18\") {\r\n            TimeFrom = dayjs(day).format('YYYY-MM-DD') + \"T18:00:00\";\r\n            TimeTo = dayjs(day).add(1, 'day').format('YYYY-MM-DD') + \"T06:00:00\";\r\n        }\r\n        WeatherMap();\r\n    }\r\n    // console.log(dayjs(day).format('YYYY-MM-DD-HH'))\r\n    // console.log(TimeFrom)\r\n    // console.log(TimeTo)\r\n}\r\n// ===============  氣象紀錄 ==================\r\n// 晴時多雲 多雲時陰短暫雨 陰有雨 陰陣雨\r\n// 稍有寒意至舒適 寒冷\r\n// ==============天氣氣象局API渲染資料======================\r\nlet WeatherMap = async () => {\r\n    let SelectArea = document.getElementsByClassName(\"SelectArea\")[0];\r\n    try {\r\n        let Item = await WeatherApi(document.getElementsByClassName(\"SelectCitys\")[0].value, TimeFrom, TimeTo);\r\n        let Citys = Item.data.records.locations[0].location.map((item, i) =>\r\n            <option key={i} value={i}>{item.locationName}</option>);\r\n        ReactDOM.render(<>{Citys}</>, SelectArea);\r\n        setTimeout(() => {\r\n            let MaxATs = Item.data.records.locations[0].location[SelectArea.value].weatherElement[5].time.map((item, i) =>\r\n                <div key={i} value={i}>\r\n                    <h6>最高溫度:</h6><h5>{item.elementValue[0].value} 度</h5>\r\n                </div>);\r\n            ReactDOM.render(<>{MaxATs}</>, document.getElementsByClassName(\"MaxAT\")[0]);\r\n            let MinTs = Item.data.records.locations[0].location[SelectArea.value].weatherElement[8].time.map((item, i) =>\r\n                <div key={i} value={i}>\r\n                    <h6>最低溫度:</h6><h5>{item.elementValue[0].value} 度</h5>\r\n                </div>);\r\n            ReactDOM.render(<>{MinTs}</>, document.getElementsByClassName(\"MinT\")[0]);\r\n            let POPs = Item.data.records.locations[0].location[SelectArea.value].weatherElement[0].time.map((item, i) =>\r\n                <div key={i} value={i}>\r\n                    <h6>降雨機率:</h6><h5>{item.elementValue[0].value} %</h5>\r\n                </div>);\r\n            ReactDOM.render(<>{POPs}</>, document.getElementsByClassName(\"POP\")[0]);\r\n            if (Item.data.records.locations[0].location[SelectArea.value].weatherElement[9].time.length > 0) {\r\n                let UVIs = Item.data.records.locations[0].location[SelectArea.value].weatherElement[9].time.map((item, i) =>\r\n                    <div key={i} value={i}>\r\n                        <h6>紫外線指數:</h6><h5>{item.elementValue[0].value}</h5>\r\n                    </div>);\r\n                document.getElementsByClassName(\"UVI\")[0].style.display = \"flex\";\r\n                ReactDOM.render(<>{UVIs}</>, document.getElementsByClassName(\"UVI\")[0]);\r\n            } else {\r\n                document.getElementsByClassName(\"UVI\")[0].style.display = \"none\";\r\n            }\r\n\r\n            let Wxs = Item.data.records.locations[0].location[SelectArea.value].weatherElement[6].time.map((item, i) =>\r\n                <div key={i} value={i}>\r\n                    <h6>天氣狀況:</h6><h5>{item.elementValue[0].value}</h5>\r\n                </div>);\r\n            ReactDOM.render(<>{Wxs}</>, document.getElementsByClassName(\"Wx\")[0]);\r\n        }, 500);\r\n    } catch (error) {\r\n        console.log(\"異常\", error);\r\n    }\r\n}\r\n\r\nexport function Weather() {\r\n    setTimeout(() => { Day12Hrs(Today); }, 100);\r\n    return <section className=\"WeatherBackground\">\r\n        <div className=\"WeatherContainer\">\r\n            <div id=\"scene\">\r\n                <div className=\"layer\"><img alt=\"\" src={mountains} /></div>\r\n                <div className=\"layer\"><div className=\"Sun\"></div></div>\r\n                <div className=\"layer\">\r\n                    <div className=\"WeatherTexts\">\r\n                        <div>\r\n                            <div className=\"WeatherSelectGroups\">\r\n                                <TaiwanCitys onChange={() => { WeatherMap(); }} />\r\n                                <select className=\"SelectArea\" onChange={() => { WeatherMap(); }}></select>\r\n                            </div>\r\n                            <div className=\"WeatherSelectGroups\">\r\n                                <button onClick={() => {\r\n                                    if (dayjs(document.getElementsByClassName(\"dates\")[0].textContent).format('YYYY-MM-DD') !== dayjs(Today).format('YYYY-MM-DD')) {\r\n                                        WhatDates(\"Y\");\r\n                                        setTimeout(() => {\r\n                                            Day12Hrs(dayjs(document.getElementsByClassName(\"dates\")[0].textContent).format('YYYY-MM-DD'));\r\n                                        }, 500);\r\n                                    }\r\n                                }}></button>\r\n                                <div className=\"dates WeatherText\">{dayjs(Today).format(\"YYYY-MM-DD\")}</div>\r\n                                <button className=\"NextDay\" onClick={() => {\r\n                                    if (dayjs(document.getElementsByClassName(\"dates\")[0].textContent).format('YYYY-MM-DD') !== dayjs(Today).add(6, 'day').format('YYYY-MM-DD')) {\r\n                                        WhatDates(\"T\");\r\n                                        setTimeout(() => {\r\n                                            Day12Hrs(dayjs(document.getElementsByClassName(\"dates\")[0].textContent).format('YYYY-MM-DD'));\r\n                                        }, 500);\r\n                                    }\r\n                                }}></button>\r\n                            </div>\r\n                            <div className=\"MaxAT WeatherText\"></div>\r\n                            <div className=\"MinT WeatherText\"></div>\r\n                            <div className=\"POP WeatherText\"></div>\r\n                            <div className=\"Wx WeatherText\"></div>\r\n                            <div className=\"UVI WeatherText\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <SvgWave />\r\n        </div>\r\n    </section>\r\n}"]},"metadata":{},"sourceType":"module"}