{"ast":null,"code":"var _jsxFileName = \"D:\\\\cms-v2\\\\src\\\\pages\\\\cms\\\\Marketing\\\\MarketingCreat.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\n\n/* eslint-disable eqeqeq */\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"../../../styles/Marketing/marketing.scss\";\nimport { Form, Row, Col } from \"react-bootstrap\"; //引入下拉選項頁面\n\nimport SingleProduct from \"../../../components/Marketing/SingleProduct\";\nimport AddProduct from \"../../../components/Marketing/AddProduct\";\nimport CombinationProduct from \"../../../components/Marketing/CombinationProduct\";\nimport Coupon from \"../../../components/Marketing/Coupon\";\nimport Award from \"../../../components/Marketing/Award\";\nimport PlatformCost from \"../../../components/Marketing/PlatformCost\";\nimport moment from \"moment\";\nimport ChangMobileImg from \"../../../images/images/png/changeMobile.png\";\nimport Swal from \"sweetalert2\"; //引入測試RWD的JS\n\nimport CheckResize from \"../../../components/CheckResize/CheckResize\"; // import TryDynamicForm from \"../../../components/Marketing/TryDynamicForm\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MarketingCreat() {\n  _s();\n\n  const device = CheckResize();\n  const history = useHistory();\n  const [activity, setActivity] = useState(\"\");\n  const [activityStatus, setActivityStatus] = useState(false); // 設定日期格式\n\n  const [startADay, setStartADay] = useState();\n  const [endADay, setEndADay] = useState();\n  const [maxDay, setMaxDay] = useState(); //設定結束的時間\n\n  const resetEndTime = () => {\n    // console.log(startADay, endADay);\n    if (!moment(startADay).isBefore(endADay)) {\n      setEndADay(moment(startADay).add(0, \"days\").format(\"YYYY-MM-DD\"));\n    }\n  }; //當前時間\n\n\n  const toDayDate = moment().startOf(String).format(\"YYYY-MM-DD\"); // 開始時間改變時 更新結束時間與最大值\n\n  useEffect(() => {\n    resetEndTime(); // setEndADay(moment(startADay).add(1, \"days\").format(\"YYYY-MM-DD\"));\n\n    setMaxDay(moment(startADay).add(7, \"days\").format(\"YYYY-MM-DD\"));\n  }, [startADay]); //這邊放剛開始的選單\n\n  const showContent = /*#__PURE__*/_jsxDEV(Form, {\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"my-3\",\n      as: Row,\n      controlId: \"validationFormik01\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        column: true,\n        sm: 2,\n        children: \"\\u72C0\\u614B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        sm: 10,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"switchToggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"switchOnOff\",\n            type: \"checkbox\",\n            name: \"state\",\n            id: \"switch\",\n            checked: activityStatus,\n            onChange: e => {\n              setActivityStatus(!activityStatus);\n              console.log(e.target.checked);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"switch\",\n            children: \"Toggle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"my-3\",\n      as: Row,\n      controlId: \"validationFormik02\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        column: true,\n        sm: 2,\n        children: \"\\u884C\\u92B7\\u6D3B\\u52D5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        sm: 10,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"select\",\n          value: activity,\n          visuallyHidden: true,\n          onChange: e => {\n            setActivity(e.target.value);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"\\u8ACB\\u9078\\u64C7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"SingleProduct\",\n            children: \"\\u55AE\\u54C1\\u6298\\u6263\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"AddProduct\",\n            children: \"\\u52A0\\u8CFC\\u6D3B\\u52D5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Combination\",\n            children: \"\\u7D44\\u5408\\u5546\\u54C1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Coupon\",\n            children: \"\\u512A\\u60E0\\u5238\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Award\",\n            children: \"\\u5E38\\u5BA2\\u734E\\u52F5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"PlatformCost\",\n            children: \"\\u670D\\u52D9\\u5E73\\u53F0\\u8CBB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this); // const RWDSHOW = () => {\n  //   return (\n  //     <div className=\"pleaseChangeWindow\">\n  //       <img src={ChangMobileImg} alt=\"\" />\n  //       <p>建議切換適用的螢幕裝置</p>\n  //     </div>\n  //   );\n  // };\n  //判斷視窗大小\n\n\n  const checkWindowSize = () => {\n    const NewShowContent = [showContent, typeObj[activity]];\n\n    if (activity == \"Combination\" && device === \"mobile\") {\n      Swal.fire({\n        imageUrl: ChangMobileImg,\n        imageHeight: 300,\n        imageAlt: \"A tall image\",\n        text: \"建議切換適用的螢幕裝置\"\n      });\n      return NewShowContent;\n    } else {\n      return NewShowContent;\n    }\n  }; //判斷顯示哪個頁面\n\n\n  const typeObj = {\n    SingleProduct: /*#__PURE__*/_jsxDEV(SingleProduct, {\n      startADay: startADay,\n      setStartADay: setStartADay,\n      toDayDate: toDayDate,\n      endADay: endADay,\n      setEndADay: setEndADay,\n      maxDay: maxDay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this),\n    AddProduct: /*#__PURE__*/_jsxDEV(AddProduct, {\n      startADay: startADay,\n      setStartADay: setStartADay,\n      toDayDate: toDayDate,\n      endADay: endADay,\n      setEndADay: setEndADay,\n      maxDay: maxDay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this),\n    Combination: /*#__PURE__*/_jsxDEV(CombinationProduct, {\n      startADay: startADay,\n      setStartADay: setStartADay,\n      toDayDate: toDayDate,\n      endADay: endADay,\n      setEndADay: setEndADay,\n      maxDay: maxDay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this),\n    Coupon: /*#__PURE__*/_jsxDEV(Coupon, {\n      startADay: startADay,\n      setStartADay: setStartADay,\n      toDayDate: toDayDate,\n      endADay: endADay,\n      setEndADay: setEndADay,\n      maxDay: maxDay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this),\n    Award: /*#__PURE__*/_jsxDEV(Award, {\n      startADay: startADay,\n      setStartADay: setStartADay,\n      toDayDate: toDayDate,\n      endADay: endADay,\n      setEndADay: setEndADay,\n      maxDay: maxDay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this),\n    PlatformCost: /*#__PURE__*/_jsxDEV(PlatformCost, {\n      startADay: startADay,\n      setStartADay: setStartADay,\n      toDayDate: toDayDate,\n      endADay: endADay,\n      setEndADay: setEndADay,\n      maxDay: maxDay\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)\n  };\n  return (\n    /*#__PURE__*/\n    // <div className=\"container d-flex flex-row MarketingCreatContainer\">\n    //   <h6>狀態</h6>\n    //   {/* 手切SwitchBtn */}\n    //   <div className=\"switchToggle\">\n    //     <input\n    //       className=\"switchOnOff\"\n    //       type=\"checkbox\"\n    //       name=\"state\"\n    //       id=\"switch\"\n    //       defaultChecked={true}\n    //       //   ref={switchRef}\n    //       onClick={() => {\n    //         // console.log(contact_emailRef.current.value);\n    //       }}\n    //     />\n    //     <label htmlFor=\"switch\">Toggle</label>\n    //   </div>\n    //   <div className=\"MMCreatBody my-2 mx-3 py-2 d-flex\">\n    //     <p className=\"w-25\">狀態</p>\n    //     <p>開啟</p>\n    //   </div>\n    //   <div className=\"MMCreatBody my-2 mx-3 py-2 d-flex\">\n    //     <p className=\"w-25\">機台識別碼</p>\n    //     <input type=\"text\" placeholder=\"請輸入機器識別碼\" />\n    //   </div>\n    // </div>\n    _jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"MarketingCreatContainer\",\n        children: [checkWindowSize(), activity == 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light d-flex m-auto my-5\",\n          onClick: () => {\n            history.push(\"marketing\");\n          },\n          children: \"\\u8FD4\\u56DE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 7\n      }, this)\n    }, void 0, false)\n  );\n}\n\n_s(MarketingCreat, \"E/l4tLRU19kU5Ja/zMMWy42H8mI=\", false, function () {\n  return [useHistory];\n});\n\n_c = MarketingCreat;\nexport default MarketingCreat;\n\nvar _c;\n\n$RefreshReg$(_c, \"MarketingCreat\");","map":{"version":3,"sources":["D:/cms-v2/src/pages/cms/Marketing/MarketingCreat.js"],"names":["React","useState","useEffect","useHistory","Form","Row","Col","SingleProduct","AddProduct","CombinationProduct","Coupon","Award","PlatformCost","moment","ChangMobileImg","Swal","CheckResize","MarketingCreat","device","history","activity","setActivity","activityStatus","setActivityStatus","startADay","setStartADay","endADay","setEndADay","maxDay","setMaxDay","resetEndTime","isBefore","add","format","toDayDate","startOf","String","showContent","e","console","log","target","checked","value","checkWindowSize","NewShowContent","typeObj","fire","imageUrl","imageHeight","imageAlt","text","Combination","push"],"mappings":";;;AAAA;;AACA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAO,0CAAP;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,QAA+B,iBAA/B,C,CACA;;AACA,OAAOC,aAAP,MAA0B,6CAA1B;AACA,OAAOC,UAAP,MAAuB,0CAAvB;AACA,OAAOC,kBAAP,MAA+B,kDAA/B;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,KAAP,MAAkB,qCAAlB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,cAAP,MAA2B,6CAA3B;AACA,OAAOC,IAAP,MAAiB,aAAjB,C,CACA;;AACA,OAAOC,WAAP,MAAwB,6CAAxB,C,CACA;;;;;AACA,SAASC,cAAT,GAA0B;AAAA;;AACxB,QAAMC,MAAM,GAAGF,WAAW,EAA1B;AACA,QAAMG,OAAO,GAAGhB,UAAU,EAA1B;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BpB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACqB,cAAD,EAAiBC,iBAAjB,IAAsCtB,QAAQ,CAAC,KAAD,CAApD,CAJwB,CAKxB;;AACA,QAAM,CAACuB,SAAD,EAAYC,YAAZ,IAA4BxB,QAAQ,EAA1C;AACA,QAAM,CAACyB,OAAD,EAAUC,UAAV,IAAwB1B,QAAQ,EAAtC;AACA,QAAM,CAAC2B,MAAD,EAASC,SAAT,IAAsB5B,QAAQ,EAApC,CARwB,CASxB;;AACA,QAAM6B,YAAY,GAAG,MAAM;AACzB;AACA,QAAI,CAACjB,MAAM,CAACW,SAAD,CAAN,CAAkBO,QAAlB,CAA2BL,OAA3B,CAAL,EAA0C;AACxCC,MAAAA,UAAU,CAACd,MAAM,CAACW,SAAD,CAAN,CAAkBQ,GAAlB,CAAsB,CAAtB,EAAyB,MAAzB,EAAiCC,MAAjC,CAAwC,YAAxC,CAAD,CAAV;AACD;AACF,GALD,CAVwB,CAgBxB;;;AACA,QAAMC,SAAS,GAAGrB,MAAM,GAAGsB,OAAT,CAAiBC,MAAjB,EAAyBH,MAAzB,CAAgC,YAAhC,CAAlB,CAjBwB,CAkBxB;;AACA/B,EAAAA,SAAS,CAAC,MAAM;AACd4B,IAAAA,YAAY,GADE,CAEd;;AACAD,IAAAA,SAAS,CAAChB,MAAM,CAACW,SAAD,CAAN,CAAkBQ,GAAlB,CAAsB,CAAtB,EAAyB,MAAzB,EAAiCC,MAAjC,CAAwC,YAAxC,CAAD,CAAT;AACD,GAJQ,EAIN,CAACT,SAAD,CAJM,CAAT,CAnBwB,CAwBxB;;AACA,QAAMa,WAAW,gBACf,QAAC,IAAD;AAAA,4BACE,QAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,MAAtB;AAA6B,MAAA,EAAE,EAAEhC,GAAjC;AAAsC,MAAA,SAAS,EAAC,oBAAhD;AAAA,8BACE,QAAC,IAAD,CAAM,KAAN;AAAY,QAAA,MAAM,MAAlB;AAAmB,QAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAa,QAAA,EAAE,EAAE,CAAjB;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,kCACE;AACE,YAAA,SAAS,EAAC,aADZ;AAEE,YAAA,IAAI,EAAC,UAFP;AAGE,YAAA,IAAI,EAAC,OAHP;AAIE,YAAA,EAAE,EAAC,QAJL;AAKE,YAAA,OAAO,EAAEiB,cALX;AAME,YAAA,QAAQ,EAAGgB,CAAD,IAAO;AACff,cAAAA,iBAAiB,CAAC,CAACD,cAAF,CAAjB;AACAiB,cAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,OAArB;AACD;AATH;AAAA;AAAA;AAAA;AAAA,kBADF,eAYE;AAAO,YAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAsBE,QAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,MAAtB;AAA6B,MAAA,EAAE,EAAErC,GAAjC;AAAsC,MAAA,SAAS,EAAC,oBAAhD;AAAA,8BACE,QAAC,IAAD,CAAM,KAAN;AAAY,QAAA,MAAM,MAAlB;AAAmB,QAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAa,QAAA,EAAE,EAAE,CAAjB;AAAA,+BACE,QAAC,IAAD,CAAM,OAAN;AACE,UAAA,EAAE,EAAC,QADL;AAEE,UAAA,KAAK,EAAEe,QAFT;AAGE,UAAA,cAAc,EAAE,IAHlB;AAIE,UAAA,QAAQ,EAAGkB,CAAD,IAAO;AACfjB,YAAAA,WAAW,CAACiB,CAAC,CAACG,MAAF,CAASE,KAAV,CAAX;AACD,WANH;AAAA,kCAQE;AAAQ,YAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,eASE;AAAQ,YAAA,KAAK,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF,eAUE;AAAQ,YAAA,KAAK,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVF,eAWE;AAAQ,YAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF,eAYE;AAAQ,YAAA,KAAK,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZF,eAaE;AAAQ,YAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF,eAcE;AAAQ,YAAA,KAAK,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAdF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAzBwB,CAyExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,QAAMC,eAAe,GAAG,MAAM;AAC5B,UAAMC,cAAc,GAAG,CAACR,WAAD,EAAcS,OAAO,CAAC1B,QAAD,CAArB,CAAvB;;AACA,QAAIA,QAAQ,IAAI,aAAZ,IAA6BF,MAAM,KAAK,QAA5C,EAAsD;AACpDH,MAAAA,IAAI,CAACgC,IAAL,CAAU;AACRC,QAAAA,QAAQ,EAAElC,cADF;AAERmC,QAAAA,WAAW,EAAE,GAFL;AAGRC,QAAAA,QAAQ,EAAE,cAHF;AAIRC,QAAAA,IAAI,EAAE;AAJE,OAAV;AAMA,aAAON,cAAP;AACD,KARD,MAQO;AACL,aAAOA,cAAP;AACD;AACF,GAbD,CAlFwB,CAgGxB;;;AACA,QAAMC,OAAO,GAAG;AACdvC,IAAAA,aAAa,eACX,QAAC,aAAD;AACE,MAAA,SAAS,EAAEiB,SADb;AAEE,MAAA,YAAY,EAAEC,YAFhB;AAGE,MAAA,SAAS,EAAES,SAHb;AAIE,MAAA,OAAO,EAAER,OAJX;AAKE,MAAA,UAAU,EAAEC,UALd;AAME,MAAA,MAAM,EAAEC;AANV;AAAA;AAAA;AAAA;AAAA,YAFY;AAWdpB,IAAAA,UAAU,eACR,QAAC,UAAD;AACE,MAAA,SAAS,EAAEgB,SADb;AAEE,MAAA,YAAY,EAAEC,YAFhB;AAGE,MAAA,SAAS,EAAES,SAHb;AAIE,MAAA,OAAO,EAAER,OAJX;AAKE,MAAA,UAAU,EAAEC,UALd;AAME,MAAA,MAAM,EAAEC;AANV;AAAA;AAAA;AAAA;AAAA,YAZY;AAqBdwB,IAAAA,WAAW,eACT,QAAC,kBAAD;AACE,MAAA,SAAS,EAAE5B,SADb;AAEE,MAAA,YAAY,EAAEC,YAFhB;AAGE,MAAA,SAAS,EAAES,SAHb;AAIE,MAAA,OAAO,EAAER,OAJX;AAKE,MAAA,UAAU,EAAEC,UALd;AAME,MAAA,MAAM,EAAEC;AANV;AAAA;AAAA;AAAA;AAAA,YAtBY;AA+BdlB,IAAAA,MAAM,eACJ,QAAC,MAAD;AACE,MAAA,SAAS,EAAEc,SADb;AAEE,MAAA,YAAY,EAAEC,YAFhB;AAGE,MAAA,SAAS,EAAES,SAHb;AAIE,MAAA,OAAO,EAAER,OAJX;AAKE,MAAA,UAAU,EAAEC,UALd;AAME,MAAA,MAAM,EAAEC;AANV;AAAA;AAAA;AAAA;AAAA,YAhCY;AAyCdjB,IAAAA,KAAK,eACH,QAAC,KAAD;AACE,MAAA,SAAS,EAAEa,SADb;AAEE,MAAA,YAAY,EAAEC,YAFhB;AAGE,MAAA,SAAS,EAAES,SAHb;AAIE,MAAA,OAAO,EAAER,OAJX;AAKE,MAAA,UAAU,EAAEC,UALd;AAME,MAAA,MAAM,EAAEC;AANV;AAAA;AAAA;AAAA;AAAA,YA1CY;AAmDdhB,IAAAA,YAAY,eACV,QAAC,YAAD;AACE,MAAA,SAAS,EAAEY,SADb;AAEE,MAAA,YAAY,EAAEC,YAFhB;AAGE,MAAA,SAAS,EAAES,SAHb;AAIE,MAAA,OAAO,EAAER,OAJX;AAKE,MAAA,UAAU,EAAEC,UALd;AAME,MAAA,MAAM,EAAEC;AANV;AAAA;AAAA;AAAA;AAAA;AApDY,GAAhB;AA+DA;AAAA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA,mBAEGgB,eAAe,EAFlB,EAIGxB,QAAQ,IAAI,CAAZ,iBACC;AACE,UAAA,SAAS,EAAC,kCADZ;AAEE,UAAA,OAAO,EAAE,MAAM;AACbD,YAAAA,OAAO,CAACkC,IAAR,CAAa,WAAb;AACD,WAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AA3BF;AA6CD;;GA7MQpC,c;UAESd,U;;;KAFTc,c;AA+MT,eAAeA,cAAf","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable eqeqeq */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"../../../styles/Marketing/marketing.scss\";\r\nimport { Form, Row, Col } from \"react-bootstrap\";\r\n//引入下拉選項頁面\r\nimport SingleProduct from \"../../../components/Marketing/SingleProduct\";\r\nimport AddProduct from \"../../../components/Marketing/AddProduct\";\r\nimport CombinationProduct from \"../../../components/Marketing/CombinationProduct\";\r\nimport Coupon from \"../../../components/Marketing/Coupon\";\r\nimport Award from \"../../../components/Marketing/Award\";\r\nimport PlatformCost from \"../../../components/Marketing/PlatformCost\";\r\nimport moment from \"moment\";\r\nimport ChangMobileImg from \"../../../images/images/png/changeMobile.png\";\r\nimport Swal from \"sweetalert2\";\r\n//引入測試RWD的JS\r\nimport CheckResize from \"../../../components/CheckResize/CheckResize\";\r\n// import TryDynamicForm from \"../../../components/Marketing/TryDynamicForm\";\r\nfunction MarketingCreat() {\r\n  const device = CheckResize();\r\n  const history = useHistory();\r\n  const [activity, setActivity] = useState(\"\");\r\n  const [activityStatus, setActivityStatus] = useState(false);\r\n  // 設定日期格式\r\n  const [startADay, setStartADay] = useState();\r\n  const [endADay, setEndADay] = useState();\r\n  const [maxDay, setMaxDay] = useState();\r\n  //設定結束的時間\r\n  const resetEndTime = () => {\r\n    // console.log(startADay, endADay);\r\n    if (!moment(startADay).isBefore(endADay)) {\r\n      setEndADay(moment(startADay).add(0, \"days\").format(\"YYYY-MM-DD\"));\r\n    }\r\n  };\r\n  //當前時間\r\n  const toDayDate = moment().startOf(String).format(\"YYYY-MM-DD\");\r\n  // 開始時間改變時 更新結束時間與最大值\r\n  useEffect(() => {\r\n    resetEndTime();\r\n    // setEndADay(moment(startADay).add(1, \"days\").format(\"YYYY-MM-DD\"));\r\n    setMaxDay(moment(startADay).add(7, \"days\").format(\"YYYY-MM-DD\"));\r\n  }, [startADay]);\r\n  //這邊放剛開始的選單\r\n  const showContent = (\r\n    <Form>\r\n      <Form.Group className=\"my-3\" as={Row} controlId=\"validationFormik01\">\r\n        <Form.Label column sm={2}>\r\n          狀態\r\n        </Form.Label>\r\n        <Col sm={10} md={6}>\r\n          <div className=\"switchToggle\">\r\n            <input\r\n              className=\"switchOnOff\"\r\n              type=\"checkbox\"\r\n              name=\"state\"\r\n              id=\"switch\"\r\n              checked={activityStatus}\r\n              onChange={(e) => {\r\n                setActivityStatus(!activityStatus);\r\n                console.log(e.target.checked);\r\n              }}\r\n            />\r\n            <label htmlFor=\"switch\">Toggle</label>\r\n          </div>\r\n        </Col>\r\n      </Form.Group>\r\n      <Form.Group className=\"my-3\" as={Row} controlId=\"validationFormik02\">\r\n        <Form.Label column sm={2}>\r\n          行銷活動\r\n        </Form.Label>\r\n        <Col sm={10} md={6}>\r\n          <Form.Control\r\n            as=\"select\"\r\n            value={activity}\r\n            visuallyHidden={true}\r\n            onChange={(e) => {\r\n              setActivity(e.target.value);\r\n            }}\r\n          >\r\n            <option value=\"0\">請選擇</option>\r\n            <option value=\"SingleProduct\">單品折扣</option>\r\n            <option value=\"AddProduct\">加購活動</option>\r\n            <option value=\"Combination\">組合商品</option>\r\n            <option value=\"Coupon\">優惠券</option>\r\n            <option value=\"Award\">常客獎勵</option>\r\n            <option value=\"PlatformCost\">服務平台費</option>\r\n          </Form.Control>\r\n        </Col>\r\n      </Form.Group>\r\n    </Form>\r\n  );\r\n  // const RWDSHOW = () => {\r\n  //   return (\r\n  //     <div className=\"pleaseChangeWindow\">\r\n  //       <img src={ChangMobileImg} alt=\"\" />\r\n  //       <p>建議切換適用的螢幕裝置</p>\r\n  //     </div>\r\n  //   );\r\n  // };\r\n  //判斷視窗大小\r\n  const checkWindowSize = () => {\r\n    const NewShowContent = [showContent, typeObj[activity]];\r\n    if (activity == \"Combination\" && device === \"mobile\") {\r\n      Swal.fire({\r\n        imageUrl: ChangMobileImg,\r\n        imageHeight: 300,\r\n        imageAlt: \"A tall image\",\r\n        text: \"建議切換適用的螢幕裝置\",\r\n      });\r\n      return NewShowContent;\r\n    } else {\r\n      return NewShowContent;\r\n    }\r\n  };\r\n  //判斷顯示哪個頁面\r\n  const typeObj = {\r\n    SingleProduct: (\r\n      <SingleProduct\r\n        startADay={startADay}\r\n        setStartADay={setStartADay}\r\n        toDayDate={toDayDate}\r\n        endADay={endADay}\r\n        setEndADay={setEndADay}\r\n        maxDay={maxDay}\r\n      />\r\n    ),\r\n    AddProduct: (\r\n      <AddProduct\r\n        startADay={startADay}\r\n        setStartADay={setStartADay}\r\n        toDayDate={toDayDate}\r\n        endADay={endADay}\r\n        setEndADay={setEndADay}\r\n        maxDay={maxDay}\r\n      />\r\n    ),\r\n    Combination: (\r\n      <CombinationProduct\r\n        startADay={startADay}\r\n        setStartADay={setStartADay}\r\n        toDayDate={toDayDate}\r\n        endADay={endADay}\r\n        setEndADay={setEndADay}\r\n        maxDay={maxDay}\r\n      />\r\n    ),\r\n    Coupon: (\r\n      <Coupon\r\n        startADay={startADay}\r\n        setStartADay={setStartADay}\r\n        toDayDate={toDayDate}\r\n        endADay={endADay}\r\n        setEndADay={setEndADay}\r\n        maxDay={maxDay}\r\n      />\r\n    ),\r\n    Award: (\r\n      <Award\r\n        startADay={startADay}\r\n        setStartADay={setStartADay}\r\n        toDayDate={toDayDate}\r\n        endADay={endADay}\r\n        setEndADay={setEndADay}\r\n        maxDay={maxDay}\r\n      />\r\n    ),\r\n    PlatformCost: (\r\n      <PlatformCost\r\n        startADay={startADay}\r\n        setStartADay={setStartADay}\r\n        toDayDate={toDayDate}\r\n        endADay={endADay}\r\n        setEndADay={setEndADay}\r\n        maxDay={maxDay}\r\n      />\r\n    ),\r\n  };\r\n\r\n  return (\r\n    // <div className=\"container d-flex flex-row MarketingCreatContainer\">\r\n    //   <h6>狀態</h6>\r\n    //   {/* 手切SwitchBtn */}\r\n    //   <div className=\"switchToggle\">\r\n    //     <input\r\n    //       className=\"switchOnOff\"\r\n    //       type=\"checkbox\"\r\n    //       name=\"state\"\r\n    //       id=\"switch\"\r\n    //       defaultChecked={true}\r\n    //       //   ref={switchRef}\r\n    //       onClick={() => {\r\n    //         // console.log(contact_emailRef.current.value);\r\n    //       }}\r\n    //     />\r\n    //     <label htmlFor=\"switch\">Toggle</label>\r\n    //   </div>\r\n    //   <div className=\"MMCreatBody my-2 mx-3 py-2 d-flex\">\r\n    //     <p className=\"w-25\">狀態</p>\r\n    //     <p>開啟</p>\r\n    //   </div>\r\n    //   <div className=\"MMCreatBody my-2 mx-3 py-2 d-flex\">\r\n    //     <p className=\"w-25\">機台識別碼</p>\r\n    //     <input type=\"text\" placeholder=\"請輸入機器識別碼\" />\r\n    //   </div>\r\n    // </div>\r\n    <>\r\n      <div className=\"MarketingCreatContainer\">\r\n        {/* {showContent} */}\r\n        {checkWindowSize()}\r\n        {/* {typeObj[activity]} */}\r\n        {activity == 0 && (\r\n          <button\r\n            className=\"btn btn-light d-flex m-auto my-5\"\r\n            onClick={() => {\r\n              history.push(\"marketing\");\r\n            }}\r\n          >\r\n            返回\r\n          </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MarketingCreat;\r\n"]},"metadata":{},"sourceType":"module"}