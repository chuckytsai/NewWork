{"ast":null,"code":"var _jsxFileName = \"D:\\\\cms-v2\\\\src\\\\components\\\\Marketing\\\\AddProduct.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Form, Row, Col } from \"react-bootstrap\";\nimport { ReactComponent as CliTrash } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../images/svg/ui-icon/cil-trash.svg\";\nimport { Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport { Select } from \"antd\"; // import { ComponentTable } from \"../Machine/ComponentTable\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst data = [{\n  Index: 1,\n  price: \"20元\",\n  addPrice: \"\",\n  addCount: \"\",\n  Name: \"純吃茶\"\n}, {\n  Index: 2,\n  price: \"77元\",\n  addPrice: \"\",\n  addCount: \"\",\n  Name: \"影冰是茶及\"\n}, {\n  Index: 3,\n  price: \"66元\",\n  addPrice: \"\",\n  addCount: \"\",\n  Name: \"ㄟ樓批三三\"\n}, {\n  Index: 4,\n  price: \"55元\",\n  addPrice: \"\",\n  addCount: \"\",\n  Name: \"查理王\"\n}, {\n  Index: 5,\n  price: \"12元\",\n  addPrice: \"\",\n  addCount: \"\",\n  Name: \"熟悉的賣相\"\n}];\nconst children = [];\n\nfor (let i = 1; i < data.length; i++) {\n  children.push( /*#__PURE__*/_jsxDEV(Option, {\n    \"data-item\": data[i],\n    value: data[i].Index,\n    children: data[i].Name\n  }, data[i].Name, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this));\n} //定義錯誤訊息及驗證\n\n\nconst schema = yup.object().shape({\n  store: yup.string().required(\"請選擇店家\"),\n  activity_name: yup.string().required(\"請輸入活動名稱\"),\n  event_details: yup.string().required(\"請輸入內容\"),\n  startDate: yup.string().required(\"請選擇開始日期\"),\n  endDate: yup.string().required(\"請選擇結束日期\"),\n  product: yup.string().required(\"請選擇產品\"),\n  total_budget: yup.number().required(\"請填入預算\")\n});\n\nfunction AddProduct({\n  startADay,\n  setStartADay,\n  toDayDate,\n  endADay,\n  setEndADay,\n  maxDay\n}) {\n  _s();\n\n  const otRef = useRef();\n  const history = useHistory();\n  const [allStageChecked, setAllStageChecked] = useState(false);\n  const [productItem, setProductItem] = useState([]);\n  const [productList, setProductList] = useState();\n\n  function handleChangeProduct(value) {\n    setProductItem(value);\n  }\n\n  const productItemToProductList = () => {\n    let newaData = data; //OBJ 資料\n\n    let newProductItem = productItem; //使用者選取的INDEX\n\n    let r2 = null; //FILTER後儲存的位置\n\n    let total = [];\n\n    for (let i = 0; i < newProductItem.length; i++) {\n      r2 = newaData.filter(e => {\n        return e.Index === newProductItem[i];\n      });\n      total.push(r2[0]);\n    }\n\n    setProductList(total);\n  };\n\n  useEffect(() => {\n    productItemToProductList();\n  }, [productItem]);\n\n  const onChange = (index, event) => {\n    event.preventDefault(); //看不懂\n\n    event.persist();\n    setProductList(prev => {\n      return prev.map((item, i) => {\n        if (i !== index) {\n          return item;\n        }\n\n        return { ...item,\n          [event.target.name]: event.target.value\n        };\n      });\n    });\n    console.log(productList);\n  }; //刪除list 將與內容相同的東西拿出來\n\n\n  const handleRemoveField = (e, index) => {\n    e.preventDefault();\n    console.log(productItem);\n    setProductItem(prev => prev.filter(item => item !== prev[index]));\n    setProductList(prev => prev.filter(item => item !== prev[index]));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      validationSchema: schema,\n      onSubmit: e => {\n        // setData([...data, e]);\n        console.log(e);\n      },\n      initialValues: {\n        store: \"\",\n        activity_name: \"\",\n        event_details: \"\",\n        startDate: \"\",\n        endDate: \"\",\n        product: \"\",\n        total_budget: \"\"\n      },\n      children: ({\n        handleSubmit,\n        handleChange,\n        values,\n        errors\n      }) => /*#__PURE__*/_jsxDEV(Form, {\n        noValidate: true,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-3 \",\n          as: Row,\n          controlId: \"validationFormik03\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            column: true,\n            sm: 2,\n            children: \"\\u9069\\u7528\\u5E97\\u5BB6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 10,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              placeholder: \"\\u8ACB\\u9078\\u64C7\",\n              name: \"store\",\n              value: allStageChecked ? values.store = \"All\" : values.store,\n              onChange: handleChange,\n              isInvalid: !!errors.store,\n              disabled: allStageChecked ? \"disabled\" : \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u8ACB\\u9078\\u64C7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"\\u5E97\\u5BB61\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"\\u5E97\\u5BB62\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3\",\n                children: \"\\u5E97\\u5BB63\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"checkbox\",\n              label: \"\\u9069\\u7528\\u5168\\u5E73\\u53F0\",\n              checked: allStageChecked,\n              onChange: () => {\n                setAllStageChecked(!allStageChecked);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: errors.store\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-3\",\n          as: Row,\n          controlId: \"validationFormik04\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            column: true,\n            sm: 2,\n            children: \"\\u6D3B\\u52D5\\u540D\\u7A31\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 10,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"\\u6D3B\\u52D5\\u540D\\u7A31\",\n              name: \"activity_name\",\n              value: values.activity_name,\n              onChange: handleChange,\n              isInvalid: !!errors.activity_name,\n              maxLength: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: \"#768192\"\n              },\n              children: \"EX:\\u6307\\u4EE4\\u5546\\u54C1\\u4EAB\\u52A0\\u8CFC\\u6298\\u6263\\uFF0C\\u5168\\u54C1\\u9805\\u52A0\\u8CFC10\\u5143\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: errors.activity_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-3\",\n          as: Row,\n          controlId: \"validationFormik05\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            column: true,\n            sm: 2,\n            children: \"\\u6D3B\\u52D5\\u8A73\\u60C5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 10,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              as: \"textarea\",\n              placeholder: \"\\u8ACB\\u8F38\\u5165\\u5167\\u5BB9\",\n              name: \"event_details\",\n              value: values.event_details,\n              onChange: handleChange,\n              isInvalid: !!errors.event_details\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: \"#768192\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: errors.event_details\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-3\",\n          as: Row,\n          controlId: \"validationFormik06\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            column: true,\n            sm: 2,\n            children: \"\\u65E5\\u671F\\u8D77\\u8A16\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-10 col-md-10 d-flex flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              className: \"col-12\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                placeholder: \"\\u6D3B\\u52D5\\u540D\\u7A31\",\n                name: \"startDate\",\n                value: startADay,\n                onChange: e => {\n                  handleChange(e);\n                  setStartADay(e.target.value);\n                },\n                isInvalid: !!errors.startDate,\n                min: toDayDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: \"#768192\"\n                },\n                children: \"\\u884C\\u92B7\\u6D3B\\u52D5\\u6700\\u9577\\u53EA\\u80FD\\u6301\\u7E8C\\u4E03\\u5929\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: errors.startDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              md: 1,\n              className: \"d-flex justify-content-center \",\n              children: \"~\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              className: \"col-12\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"date\",\n                placeholder: \"\\u6D3B\\u52D5\\u540D\\u7A31\",\n                name: \"endDate\",\n                value: endADay,\n                onChange: e => {\n                  handleChange(e);\n                  setEndADay(e.target.value);\n                },\n                isInvalid: !!errors.endDate,\n                min: endADay,\n                max: maxDay\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: errors.endDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-3\",\n          as: Row,\n          controlId: \"validationFormik06\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            column: true,\n            sm: 2,\n            children: \"\\u6307\\u5B9A\\u5546\\u54C1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 10,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\" // defaultValue=\"請選擇\"\n              ,\n              placeholder: \"\\u8ACB\\u9078\\u64C7\",\n              name: \"product\",\n              value: values.product,\n              onChange: handleChange,\n              isInvalid: !!errors.product,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u8ACB\\u9078\\u64C7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"\\u5E97\\u5BB61\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"\\u5E97\\u5BB62\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3\",\n                children: \"\\u5E97\\u5BB63\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"checkbox\",\n              label: \"\\u5168\\u54C1\\u9805\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: errors.product\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-3\",\n          as: Row,\n          controlId: \"validationFormik07\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            column: true,\n            sm: 2,\n            children: \"\\u9078\\u64C7\\u52A0\\u8CFC\\u5546\\u54C1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 10,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Select, {\n              ref: otRef,\n              mode: \"tags\",\n              style: {\n                width: \"100%\"\n              },\n              placeholder: \"\\u8ACB\\u9078\\u64C7\\u52A0\\u8CFC\\u5546\\u54C1\",\n              onChange: e => {\n                handleChangeProduct(e);\n              },\n              children: children\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table border  AddProductTable\",\n              children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u5546\\u54C1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u539F\\u50F9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u52A0\\u8CFC\\u50F9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u53EF\\u52A0\\u8CFC\\u6578\\u91CF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u64CD\\u4F5C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this), productList && productList.map((item, index) => {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.Name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.price\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"addPrice\",\n                        type: \"number\",\n                        style: {\n                          width: \"100px\"\n                        },\n                        className: \"componentsInput\" // defaultValue={item.addPrice}\n                        ,\n                        value: item.addPrice,\n                        onChange: e => {\n                          onChange(index, e);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 365,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 364,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        name: \"addCount\",\n                        type: \"number\",\n                        style: {\n                          width: \"100px\"\n                        },\n                        className: \"componentsInput\",\n                        value: item.addCount,\n                        onChange: e => {\n                          onChange(index, e);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 378,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(CliTrash, {\n                        fill: \"#fff\",\n                        className: \"AddProductTrashIcon\",\n                        onClick: e => {\n                          handleRemoveField(e, index);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 391,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 29\n                    }, this)]\n                  }, \"item.Index\", true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 27\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"add_purchaseBox\",\n              children: \"\\u53EF\\u8CFC\\u8CB7\\u4EFB\\u4E00\\u6578\\u91CF\\u4E4B\\u52A0\\u8CFC\\u5546\\u54C1\\uFF0C\\u8CFC\\u8CB7\\u8D85\\u904E\\u52A0\\u8CFC\\u6578\\u91CF\\u5247\\u4EE5\\u539F\\u50F9\\u8A08\\u3002\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: errors.add_purchase\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-3\",\n          as: Row,\n          controlId: \"validationFormik08\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            column: true,\n            sm: 2,\n            children: \"\\u7E3D\\u9810\\u7B97\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 5,\n            md: 3,\n            children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\" // as=\"number\"\n              ,\n              name: \"total_budget\",\n              value: values.total_budget,\n              onChange: handleChange,\n              isInvalid: !!errors.total_budget\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: errors.total_budget\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3 col-sm-5\",\n            style: {\n              lineHeight: \"38px\"\n            },\n            children: \"\\u5143\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col // md=\"1\"\n          ,\n          controlId: \"validationFormikUsername\",\n          className: \"d-flex justify-content-center my-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-light  mx-2\",\n            onClick: () => {\n              history.push(\"marketing\");\n            },\n            children: \"\\u8FD4\\u56DE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-success text-white mx-2\",\n            children: \"\\u78BA\\u8A8D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(AddProduct, \"lG+buUz1uGinyR9VKZ20B2ZKLT8=\", false, function () {\n  return [useHistory];\n});\n\n_c = AddProduct;\nexport default AddProduct;\n/* <Form.Group className=\"my-3\" as={Row} controlId=\"validationFormik02\">\r\n            <Form.Label column sm={2}>\r\n              活動詳情\r\n            </Form.Label>\r\n            <Col sm={10} md={5}>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"請輸入電話號碼\"\r\n                name=\"contact_tel\"\r\n                value={values.contact_tel}\r\n                onChange={handleChange}\r\n                isInvalid={!!errors.contact_tel}\r\n                maxLength=\"10\"\r\n              />\r\n              <small style={{ color: \"#768192\" }}>{123}</small>\r\n            </Col>\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              {errors.contact_tel}\r\n            </Form.Control.Feedback>\r\n          </Form.Group> */\n// <div>\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\n//     <p className=\"w-25\">適用店家</p>\n//     <div className=\"MarketingGroupContainer\">\n//       <select name=\"\" id=\"\" className=\"w-100\">\n//         <option value=\"\">請選擇</option>\n//         <option value=\"\">單品折扣</option>\n//         <option value=\"\">加購活動</option>\n//         <option value=\"\">組合商品</option>\n//         <option value=\"\">優惠券</option>\n//         <option value=\"\">常客獎勵</option>\n//         <option value=\"\">服務平台費</option>\n//       </select>\n//       <div className=\"d-flex text-center\">\n//         <input\n//           type=\"checkbox\"\n//           id=\"singleProductCheckForAll\"\n//           className=\"d-flex align-self-center\"\n//         />\n//         <label htmlFor=\"singleProductCheckForAll\">適用全站平台</label>\n//       </div>\n//     </div>\n//   </div>\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\n//     <p className=\"w-25\">活動名稱</p>\n//     <div className=\"MarketingGroupContainer\">\n//       <input type=\"text\" placeholder=\"活動名稱\" className=\"w-100\" />\n//       <span>EX.指定商品折價10元</span>\n//     </div>\n//   </div>\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\n//     <p className=\"w-25\">活動詳情</p>\n//     <div className=\"MarketingGroupContainer\">\n//       <textarea\n//         className=\"w-100\"\n//         name=\"\"\n//         id=\"\"\n//         cols=\"30\"\n//         rows=\"5\"\n//         placeholder=\"請輸入內容\"\n//       ></textarea>\n//     </div>\n//   </div>\n//   <div className=\"MMCreatBody MarketingGroup d-flex \">\n//     <p className=\"w-25\">活動起訖</p>\n//     <div className=\"MarketingGroupContainer d-flex MarketingGroupDate\">\n//       <div className=\"d-flex w-100\">\n//         <CilCalendar />\n//         <DatePicker\n//           className=\"w-100\"\n//           selected={startDate}\n//           onChange={(date) => setStartDate(date)}\n//           selectsStart\n//           startDate={startDate}\n//           endDate={endDate}\n//           dateFormat=\"yyyy-MM-dd\"\n//           placeholderText={\"年/月/日\"}\n//         />\n//       </div>\n//       <p className=\"m-auto mx-3\">~</p>\n//       <div className=\"d-flex w-100\">\n//         <CilCalendar />\n//         <DatePicker\n//           className=\"w-100\"\n//           selected={endDate}\n//           onChange={(date) => setEndDate(date)}\n//           selectsEnd\n//           startDate={startDate}\n//           endDate={startDate}\n//           minDate={startDate}\n//           dateFormat=\"yyyy-MM-dd\"\n//           placeholderText=\"年/月/日\"\n//         />\n//       </div>\n//     </div>\n//   </div>\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\n//     <p className=\"w-25\">折價類別</p>\n//     <div className=\"MarketingGroupContainer\">\n//       <div className=\"mb-2 d-flex align-items-center\">\n//         <input\n//           type=\"radio\"\n//           id=\"singleProductCheckForStore\"\n//           value=\"product\"\n//           checked={category === \"product\"}\n//           onChange={(e) => {\n//             categoryHandelChange(e.target.value);\n//           }}\n//         />\n//         <label className=\"me-3\" htmlFor=\"singleProductCheckForStore\">\n//           指定商品\n//         </label>\n//         <input\n//           type=\"radio\"\n//           id=\"singleProductCheckForCategory\"\n//           value=\"category\"\n//           checked={category === \"category\"}\n//           onChange={(e) => {\n//             categoryHandelChange(e.target.value);\n//           }}\n//         />\n//         <label htmlFor=\"singleProductCheckForCategory\">整個類別</label>\n//       </div>\n//       <select name=\"\" id=\"\" className=\"w-100\">\n//         <option value=\"\">請選擇</option>\n//         <option value=\"\"></option>\n//         <option value=\"\"></option>\n//       </select>\n//     </div>\n//   </div>\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\n//     <p className=\"w-25\">折扣</p>\n//     <div className=\"MarketingGroupContainer d-flex\">\n//       <select name=\"\" id=\"\" className=\"w-50\">\n//         <option value=\"\">固定折價</option>\n//         <option value=\"\"></option>\n//         <option value=\"\"></option>\n//       </select>\n//       <input type=\"number\" className=\"w-100\" />\n//       <div className=\"MarketingGroupP\">\n//         <p>元</p>\n//       </div>\n//     </div>\n//   </div>\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\n//     <p className=\"w-25\">總預算</p>\n//     <div className=\"MarketingGroupContainer d-flex\">\n//       <input type=\"number\" className=\"w-50 me-3\" />\n//       <p style={{ lineHeight: \"40px\" }}>元</p>\n//     </div>\n//   </div>\n// </div>\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["D:/cms-v2/src/components/Marketing/AddProduct.js"],"names":["React","useState","useRef","useEffect","useHistory","Form","Row","Col","Formik","yup","Select","Option","data","Index","price","addPrice","addCount","Name","children","i","length","push","schema","object","shape","store","string","required","activity_name","event_details","startDate","endDate","product","total_budget","number","AddProduct","startADay","setStartADay","toDayDate","endADay","setEndADay","maxDay","otRef","history","allStageChecked","setAllStageChecked","productItem","setProductItem","productList","setProductList","handleChangeProduct","value","productItemToProductList","newaData","newProductItem","r2","total","filter","e","onChange","index","event","preventDefault","persist","prev","map","item","target","name","console","log","handleRemoveField","handleSubmit","handleChange","values","errors","color","width","add_purchase","lineHeight"],"mappings":"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;AAAA;AAAA,oBATF;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,eAqBE;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAmC,YAAA,KAAK,EAAE;AAAE8C,cAAAA,UAAU,EAAE;AAAd,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBArBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA9RF,eAwTE,QAAC,IAAD,CAAM,KAAN;AACE,UAAA,EAAE,EAAExE,GADN,CAEE;AAFF;AAGE,UAAA,SAAS,EAAC,0BAHZ;AAIE,UAAA,SAAS,EAAC,oCAJZ;AAAA,kCAME;AACE,YAAA,IAAI,EAAC,QADP;AAEE,YAAA,SAAS,EAAC,qBAFZ;AAGE,YAAA,OAAO,EAAE,MAAM;AACboC,cAAAA,OAAO,CAACtB,IAAR,CAAa,WAAb;AACD,aALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,eAeE;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,SAAS,EAAC,iCAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAfF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAxTF;AAAA;AAAA;AAAA;AAAA;AAAA;AAjBJ;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAmWD;;GA/ZQc,U;UASS/B,U;;;KATT+B,U;AAiaT,eAAeA,UAAf;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Form, Row, Col } from \"react-bootstrap\";\r\nimport { ReactComponent as CliTrash } from \"../../images/svg/ui-icon/cil-trash.svg\";\r\nimport { Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { Select } from \"antd\";\r\n// import { ComponentTable } from \"../Machine/ComponentTable\";\r\nconst { Option } = Select;\r\nconst data = [\r\n  {\r\n    Index: 1,\r\n    price: \"20元\",\r\n    addPrice: \"\",\r\n    addCount: \"\",\r\n    Name: \"純吃茶\",\r\n  },\r\n  {\r\n    Index: 2,\r\n    price: \"77元\",\r\n    addPrice: \"\",\r\n    addCount: \"\",\r\n    Name: \"影冰是茶及\",\r\n  },\r\n  {\r\n    Index: 3,\r\n    price: \"66元\",\r\n    addPrice: \"\",\r\n    addCount: \"\",\r\n    Name: \"ㄟ樓批三三\",\r\n  },\r\n  {\r\n    Index: 4,\r\n    price: \"55元\",\r\n    addPrice: \"\",\r\n    addCount: \"\",\r\n    Name: \"查理王\",\r\n  },\r\n  {\r\n    Index: 5,\r\n    price: \"12元\",\r\n    addPrice: \"\",\r\n    addCount: \"\",\r\n    Name: \"熟悉的賣相\",\r\n  },\r\n];\r\nconst children = [];\r\nfor (let i = 1; i < data.length; i++) {\r\n  children.push(\r\n    <Option data-item={data[i]} key={data[i].Name} value={data[i].Index}>\r\n      {data[i].Name}\r\n    </Option>\r\n  );\r\n}\r\n//定義錯誤訊息及驗證\r\nconst schema = yup.object().shape({\r\n  store: yup.string().required(\"請選擇店家\"),\r\n  activity_name: yup.string().required(\"請輸入活動名稱\"),\r\n  event_details: yup.string().required(\"請輸入內容\"),\r\n  startDate: yup.string().required(\"請選擇開始日期\"),\r\n  endDate: yup.string().required(\"請選擇結束日期\"),\r\n  product: yup.string().required(\"請選擇產品\"),\r\n  total_budget: yup.number().required(\"請填入預算\"),\r\n});\r\n\r\nfunction AddProduct({\r\n  startADay,\r\n  setStartADay,\r\n  toDayDate,\r\n  endADay,\r\n  setEndADay,\r\n  maxDay,\r\n}) {\r\n  const otRef = useRef();\r\n  const history = useHistory();\r\n  const [allStageChecked, setAllStageChecked] = useState(false);\r\n  const [productItem, setProductItem] = useState([]);\r\n  const [productList, setProductList] = useState();\r\n  function handleChangeProduct(value) {\r\n    setProductItem(value);\r\n  }\r\n\r\n  const productItemToProductList = () => {\r\n    let newaData = data; //OBJ 資料\r\n    let newProductItem = productItem; //使用者選取的INDEX\r\n    let r2 = null; //FILTER後儲存的位置\r\n    let total = [];\r\n    for (let i = 0; i < newProductItem.length; i++) {\r\n      r2 = newaData.filter((e) => {\r\n        return e.Index === newProductItem[i];\r\n      });\r\n      total.push(r2[0]);\r\n    }\r\n    setProductList(total);\r\n  };\r\n  useEffect(() => {\r\n    productItemToProductList();\r\n  }, [productItem]);\r\n\r\n  const onChange = (index, event) => {\r\n    event.preventDefault();\r\n    //看不懂\r\n    event.persist();\r\n\r\n    setProductList((prev) => {\r\n      return prev.map((item, i) => {\r\n        if (i !== index) {\r\n          return item;\r\n        }\r\n\r\n        return {\r\n          ...item,\r\n          [event.target.name]: event.target.value,\r\n        };\r\n      });\r\n    });\r\n    console.log(productList);\r\n  };\r\n  //刪除list 將與內容相同的東西拿出來\r\n  const handleRemoveField = (e, index) => {\r\n    e.preventDefault();\r\n    console.log(productItem);\r\n    setProductItem((prev) => prev.filter((item) => item !== prev[index]));\r\n    setProductList((prev) => prev.filter((item) => item !== prev[index]));\r\n  };\r\n  return (\r\n    <>\r\n      <Formik\r\n        validationSchema={schema}\r\n        onSubmit={(e) => {\r\n          // setData([...data, e]);\r\n          console.log(e);\r\n        }}\r\n        initialValues={{\r\n          store: \"\",\r\n          activity_name: \"\",\r\n          event_details: \"\",\r\n          startDate: \"\",\r\n          endDate: \"\",\r\n          product: \"\",\r\n          total_budget: \"\",\r\n        }}\r\n      >\r\n        {({ handleSubmit, handleChange, values, errors }) => (\r\n          <Form noValidate onSubmit={handleSubmit}>\r\n            <Form.Group\r\n              className=\"my-3 \"\r\n              as={Row}\r\n              controlId=\"validationFormik03\"\r\n            >\r\n              <Form.Label column sm={2}>\r\n                適用店家\r\n              </Form.Label>\r\n              <Col sm={10} md={6}>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  placeholder=\"請選擇\"\r\n                  name=\"store\"\r\n                  value={\r\n                    allStageChecked ? (values.store = \"All\") : values.store\r\n                  }\r\n                  onChange={handleChange}\r\n                  isInvalid={!!errors.store}\r\n                  disabled={allStageChecked ? \"disabled\" : \"\"}\r\n                >\r\n                  <option value=\"\">請選擇</option>\r\n                  <option value=\"1\">店家1</option>\r\n                  <option value=\"2\">店家2</option>\r\n                  <option value=\"3\">店家3</option>\r\n                </Form.Control>\r\n                <Form.Check\r\n                  type=\"checkbox\"\r\n                  label=\"適用全平台\"\r\n                  checked={allStageChecked}\r\n                  onChange={() => {\r\n                    setAllStageChecked(!allStageChecked);\r\n                  }}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.store}\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group\r\n              className=\"my-3\"\r\n              as={Row}\r\n              controlId=\"validationFormik04\"\r\n            >\r\n              <Form.Label column sm={2}>\r\n                活動名稱\r\n              </Form.Label>\r\n              <Col sm={10} md={6}>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"活動名稱\"\r\n                  name=\"activity_name\"\r\n                  value={values.activity_name}\r\n                  onChange={handleChange}\r\n                  isInvalid={!!errors.activity_name}\r\n                  maxLength=\"10\"\r\n                />\r\n                <small style={{ color: \"#768192\" }}>\r\n                  EX:指令商品享加購折扣，全品項加購10元\r\n                </small>\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.activity_name}\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n            </Form.Group>\r\n            <Form.Group\r\n              className=\"my-3\"\r\n              as={Row}\r\n              controlId=\"validationFormik05\"\r\n            >\r\n              <Form.Label column sm={2}>\r\n                活動詳情\r\n              </Form.Label>\r\n              <Col sm={10} md={6}>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  as=\"textarea\"\r\n                  placeholder=\"請輸入內容\"\r\n                  name=\"event_details\"\r\n                  value={values.event_details}\r\n                  onChange={handleChange}\r\n                  isInvalid={!!errors.event_details}\r\n                />\r\n                <small style={{ color: \"#768192\" }}></small>\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.event_details}\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n            </Form.Group>\r\n            <Form.Group\r\n              className=\"my-3\"\r\n              as={Row}\r\n              controlId=\"validationFormik06\"\r\n            >\r\n              <Form.Label column sm={2}>\r\n                日期起訖\r\n              </Form.Label>\r\n              <div className=\"col-sm-10 col-md-10 d-flex flex-wrap\">\r\n                <Col md={3} className=\"col-12\">\r\n                  <Form.Control\r\n                    type=\"date\"\r\n                    placeholder=\"活動名稱\"\r\n                    name=\"startDate\"\r\n                    value={startADay}\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                      setStartADay(e.target.value);\r\n                    }}\r\n                    isInvalid={!!errors.startDate}\r\n                    min={toDayDate}\r\n                  />\r\n                  <small style={{ color: \"#768192\" }}>\r\n                    行銷活動最長只能持續七天\r\n                  </small>\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.startDate}\r\n                  </Form.Control.Feedback>\r\n                </Col>\r\n                <Form.Label\r\n                  column\r\n                  md={1}\r\n                  className=\"d-flex justify-content-center \"\r\n                >\r\n                  ~\r\n                </Form.Label>\r\n\r\n                <Col md={3} className=\"col-12\">\r\n                  <Form.Control\r\n                    type=\"date\"\r\n                    placeholder=\"活動名稱\"\r\n                    name=\"endDate\"\r\n                    value={endADay}\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                      setEndADay(e.target.value);\r\n                    }}\r\n                    isInvalid={!!errors.endDate}\r\n                    min={endADay}\r\n                    max={maxDay}\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    {errors.endDate}\r\n                  </Form.Control.Feedback>\r\n                </Col>\r\n              </div>\r\n            </Form.Group>\r\n            <Form.Group\r\n              className=\"my-3\"\r\n              as={Row}\r\n              controlId=\"validationFormik06\"\r\n            >\r\n              <Form.Label column sm={2}>\r\n                指定商品\r\n              </Form.Label>\r\n              <Col sm={10} md={6}>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  // defaultValue=\"請選擇\"\r\n                  placeholder=\"請選擇\"\r\n                  name=\"product\"\r\n                  value={values.product}\r\n                  onChange={handleChange}\r\n                  isInvalid={!!errors.product}\r\n                >\r\n                  <option value=\"\">請選擇</option>\r\n                  <option value=\"1\">店家1</option>\r\n                  <option value=\"2\">店家2</option>\r\n                  <option value=\"3\">店家3</option>\r\n                </Form.Control>\r\n                <Form.Check type=\"checkbox\" label=\"全品項\" />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.product}\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n            </Form.Group>\r\n            <Form.Group\r\n              className=\"my-3\"\r\n              as={Row}\r\n              controlId=\"validationFormik07\"\r\n            >\r\n              <Form.Label column sm={2}>\r\n                選擇加購商品\r\n              </Form.Label>\r\n              <Col sm={10} md={6}>\r\n                <Select\r\n                  ref={otRef}\r\n                  mode=\"tags\"\r\n                  style={{ width: \"100%\" }}\r\n                  placeholder=\"請選擇加購商品\"\r\n                  onChange={(e) => {\r\n                    handleChangeProduct(e);\r\n                  }}\r\n                >\r\n                  {children}\r\n                  {/* {data.map((item) => {\r\n                    return <Option value={item}>{item.Name}</Option>;\r\n                  })} */}\r\n                  {/* <option value=\"測試\">測試</option>\r\n                  <option value=\"水果\">水果</option>\r\n                  <option value=\"蘋果\">蘋果</option>\r\n                  <option value=\"火龍果\">火龍果</option> */}\r\n                </Select>\r\n                <table className=\"table border  AddProductTable\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th>商品</th>\r\n                      <th>原價</th>\r\n                      <th>加購價</th>\r\n                      <th>可加購數量</th>\r\n                      <th>操作</th>\r\n                    </tr>\r\n                    {productList &&\r\n                      productList.map((item, index) => {\r\n                        return (\r\n                          <tr key=\"item.Index\">\r\n                            <td>{item.Name}</td>\r\n                            <td>{item.price}</td>\r\n                            <td>\r\n                              <input\r\n                                name=\"addPrice\"\r\n                                type=\"number\"\r\n                                style={{ width: \"100px\" }}\r\n                                className=\"componentsInput\"\r\n                                // defaultValue={item.addPrice}\r\n                                value={item.addPrice}\r\n                                onChange={(e) => {\r\n                                  onChange(index, e);\r\n                                }}\r\n                              />\r\n                            </td>\r\n                            <td>\r\n                              <input\r\n                                name=\"addCount\"\r\n                                type=\"number\"\r\n                                style={{ width: \"100px\" }}\r\n                                className=\"componentsInput\"\r\n                                value={item.addCount}\r\n                                onChange={(e) => {\r\n                                  onChange(index, e);\r\n                                }}\r\n                              />\r\n                            </td>\r\n                            <td>\r\n                              {/* <button className=\"btn btn-danger p-0 d-flex\"> */}\r\n                              <CliTrash\r\n                                fill=\"#fff\"\r\n                                className=\"AddProductTrashIcon\"\r\n                                onClick={(e) => {\r\n                                  handleRemoveField(e, index);\r\n                                }}\r\n                              />\r\n                              {/* </button> */}\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                  </tbody>\r\n                </table>\r\n                {/* <ComponentTable\r\n                  data={productList}\r\n                  dataOrder={[\r\n                    \"Index\",\r\n                    \"Name\",\r\n                    \"price\",\r\n                    \"addCount\",\r\n                    \"addPrice\",\r\n                    \"Button\",\r\n                  ]}\r\n                  dataHeard={[\r\n                    \"排序\",\r\n                    \"商品\",\r\n                    \"原價\",\r\n                    \"加購價\",\r\n                    \"可加購數量\",\r\n                    \"操作\",\r\n                  ]}\r\n                /> */}\r\n                <div className=\"add_purchaseBox\">\r\n                  可購買任一數量之加購商品，購買超過加購數量則以原價計。\r\n                </div>\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.add_purchase}\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n            </Form.Group>\r\n            <Form.Group\r\n              className=\"my-3\"\r\n              as={Row}\r\n              controlId=\"validationFormik08\"\r\n            >\r\n              <Form.Label column sm={2}>\r\n                總預算\r\n              </Form.Label>\r\n              <Col sm={5} md={3}>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  // as=\"number\"\r\n                  name=\"total_budget\"\r\n                  value={values.total_budget}\r\n                  onChange={handleChange}\r\n                  isInvalid={!!errors.total_budget}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {errors.total_budget}\r\n                </Form.Control.Feedback>\r\n              </Col>\r\n              <div className=\"col-md-3 col-sm-5\" style={{ lineHeight: \"38px\" }}>\r\n                元\r\n              </div>\r\n            </Form.Group>\r\n            {/* 送出紐 */}\r\n            <Form.Group\r\n              as={Col}\r\n              // md=\"1\"\r\n              controlId=\"validationFormikUsername\"\r\n              className=\"d-flex justify-content-center my-3\"\r\n            >\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-light  mx-2\"\r\n                onClick={() => {\r\n                  history.push(\"marketing\");\r\n                }}\r\n              >\r\n                返回\r\n              </button>\r\n              <button type=\"submit\" className=\"btn btn-success text-white mx-2\">\r\n                確認\r\n              </button>\r\n            </Form.Group>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddProduct;\r\n\r\n/* <Form.Group className=\"my-3\" as={Row} controlId=\"validationFormik02\">\r\n            <Form.Label column sm={2}>\r\n              活動詳情\r\n            </Form.Label>\r\n            <Col sm={10} md={5}>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"請輸入電話號碼\"\r\n                name=\"contact_tel\"\r\n                value={values.contact_tel}\r\n                onChange={handleChange}\r\n                isInvalid={!!errors.contact_tel}\r\n                maxLength=\"10\"\r\n              />\r\n              <small style={{ color: \"#768192\" }}>{123}</small>\r\n            </Col>\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              {errors.contact_tel}\r\n            </Form.Control.Feedback>\r\n          </Form.Group> */\r\n\r\n// <div>\r\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\r\n//     <p className=\"w-25\">適用店家</p>\r\n//     <div className=\"MarketingGroupContainer\">\r\n//       <select name=\"\" id=\"\" className=\"w-100\">\r\n//         <option value=\"\">請選擇</option>\r\n//         <option value=\"\">單品折扣</option>\r\n//         <option value=\"\">加購活動</option>\r\n//         <option value=\"\">組合商品</option>\r\n//         <option value=\"\">優惠券</option>\r\n//         <option value=\"\">常客獎勵</option>\r\n//         <option value=\"\">服務平台費</option>\r\n//       </select>\r\n//       <div className=\"d-flex text-center\">\r\n//         <input\r\n//           type=\"checkbox\"\r\n//           id=\"singleProductCheckForAll\"\r\n//           className=\"d-flex align-self-center\"\r\n//         />\r\n//         <label htmlFor=\"singleProductCheckForAll\">適用全站平台</label>\r\n//       </div>\r\n//     </div>\r\n//   </div>\r\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\r\n//     <p className=\"w-25\">活動名稱</p>\r\n//     <div className=\"MarketingGroupContainer\">\r\n//       <input type=\"text\" placeholder=\"活動名稱\" className=\"w-100\" />\r\n//       <span>EX.指定商品折價10元</span>\r\n//     </div>\r\n//   </div>\r\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\r\n//     <p className=\"w-25\">活動詳情</p>\r\n//     <div className=\"MarketingGroupContainer\">\r\n//       <textarea\r\n//         className=\"w-100\"\r\n//         name=\"\"\r\n//         id=\"\"\r\n//         cols=\"30\"\r\n//         rows=\"5\"\r\n//         placeholder=\"請輸入內容\"\r\n//       ></textarea>\r\n//     </div>\r\n//   </div>\r\n//   <div className=\"MMCreatBody MarketingGroup d-flex \">\r\n//     <p className=\"w-25\">活動起訖</p>\r\n//     <div className=\"MarketingGroupContainer d-flex MarketingGroupDate\">\r\n//       <div className=\"d-flex w-100\">\r\n//         <CilCalendar />\r\n//         <DatePicker\r\n//           className=\"w-100\"\r\n//           selected={startDate}\r\n//           onChange={(date) => setStartDate(date)}\r\n//           selectsStart\r\n//           startDate={startDate}\r\n//           endDate={endDate}\r\n//           dateFormat=\"yyyy-MM-dd\"\r\n//           placeholderText={\"年/月/日\"}\r\n//         />\r\n//       </div>\r\n\r\n//       <p className=\"m-auto mx-3\">~</p>\r\n//       <div className=\"d-flex w-100\">\r\n//         <CilCalendar />\r\n//         <DatePicker\r\n//           className=\"w-100\"\r\n//           selected={endDate}\r\n//           onChange={(date) => setEndDate(date)}\r\n//           selectsEnd\r\n//           startDate={startDate}\r\n//           endDate={startDate}\r\n//           minDate={startDate}\r\n//           dateFormat=\"yyyy-MM-dd\"\r\n//           placeholderText=\"年/月/日\"\r\n//         />\r\n//       </div>\r\n//     </div>\r\n//   </div>\r\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\r\n//     <p className=\"w-25\">折價類別</p>\r\n//     <div className=\"MarketingGroupContainer\">\r\n//       <div className=\"mb-2 d-flex align-items-center\">\r\n//         <input\r\n//           type=\"radio\"\r\n//           id=\"singleProductCheckForStore\"\r\n//           value=\"product\"\r\n//           checked={category === \"product\"}\r\n//           onChange={(e) => {\r\n//             categoryHandelChange(e.target.value);\r\n//           }}\r\n//         />\r\n//         <label className=\"me-3\" htmlFor=\"singleProductCheckForStore\">\r\n//           指定商品\r\n//         </label>\r\n//         <input\r\n//           type=\"radio\"\r\n//           id=\"singleProductCheckForCategory\"\r\n//           value=\"category\"\r\n//           checked={category === \"category\"}\r\n//           onChange={(e) => {\r\n//             categoryHandelChange(e.target.value);\r\n//           }}\r\n//         />\r\n//         <label htmlFor=\"singleProductCheckForCategory\">整個類別</label>\r\n//       </div>\r\n//       <select name=\"\" id=\"\" className=\"w-100\">\r\n//         <option value=\"\">請選擇</option>\r\n//         <option value=\"\"></option>\r\n//         <option value=\"\"></option>\r\n//       </select>\r\n//     </div>\r\n//   </div>\r\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\r\n//     <p className=\"w-25\">折扣</p>\r\n//     <div className=\"MarketingGroupContainer d-flex\">\r\n//       <select name=\"\" id=\"\" className=\"w-50\">\r\n//         <option value=\"\">固定折價</option>\r\n//         <option value=\"\"></option>\r\n//         <option value=\"\"></option>\r\n//       </select>\r\n//       <input type=\"number\" className=\"w-100\" />\r\n//       <div className=\"MarketingGroupP\">\r\n//         <p>元</p>\r\n//       </div>\r\n//     </div>\r\n//   </div>\r\n//   <div className=\"MMCreatBody MarketingGroup d-flex\">\r\n//     <p className=\"w-25\">總預算</p>\r\n//     <div className=\"MarketingGroupContainer d-flex\">\r\n//       <input type=\"number\" className=\"w-50 me-3\" />\r\n//       <p style={{ lineHeight: \"40px\" }}>元</p>\r\n//     </div>\r\n//   </div>\r\n// </div>\r\n"]},"metadata":{},"sourceType":"module"}