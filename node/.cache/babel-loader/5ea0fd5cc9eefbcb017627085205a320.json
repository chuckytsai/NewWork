{"ast":null,"code":"var _jsxFileName = \"D:\\\\JsMff\\\\src\\\\pages\\\\cms\\\\Store\\\\StoreCompanyEdit.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport StoreList from \"../../../components/Store/StoreList\";\nimport { useHistory } from \"react-router-dom\";\nimport { companyShowApi, companyEditApi } from \"../../../middleware/api\";\nimport Swal from \"sweetalert2\"; //上傳圖片\n\nimport { imgUploadApi } from \"../../../middleware/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction StoreCompanyEdit() {\n  _s();\n\n  const conpanyNameRef = useRef();\n  const uniformRef = useRef();\n  const owner_nameRef = useRef();\n  const contact_nameRef = useRef();\n  const contact_telRef = useRef();\n  const contact_emailRef = useRef();\n  const pictureRef = useRef();\n  const foodNumberRef = useRef();\n  const principalNniformRef = useRef();\n  let {\n    companyid\n  } = useParams(); //隱藏身分證字號前三後三\n\n  const card = \"L123456789\";\n  const startttttt = card.replace(/^(.{3})(?:\\d+)(.{3})$/, \"$1***$2\");\n  console.log(startttttt);\n  const [companyShow, setCompanyShow] = useState([]);\n\n  const getStoreListAPI = async () => {\n    try {\n      const repCompanyShow = await companyShowApi(companyid);\n      setCompanyShow(repCompanyShow.data.data.dataInfo);\n    } catch (error) {\n      console.log(\"異常\", error);\n    }\n  };\n\n  const [errorMessage, setErrorMessage] = useState({});\n\n  const postCompanyUpdate = () => {\n    let newErrorData = {};\n\n    if (contact_nameRef.current.value === \"\" || owner_nameRef.current.value === \"\" || conpanyNameRef.current.value === \"\" || !/[A-Z]\\-\\d{9}\\-\\d{5}\\-\\d{1}/.test(foodNumberRef.current.value) || !/[A-Z]\\d{9}/.test(principalNniformRef.current.value) || !/\\d{8}/.test(uniformRef.current.value) || contact_telRef.current.value === \"\" || // eslint-disable-next-line no-useless-escape\n    !/09\\d{2}\\-?\\d{3}\\-?\\d{3}/.test(contact_telRef.current.value) || contact_emailRef.current.value === \"\" || !/.+@/.test(contact_emailRef.current.value)) {\n      if (!/[A-Z]\\d{9}/.test(principalNniformRef.current.value)) {\n        newErrorData.principalNniform = \"請輸入正確身分證字號\";\n      }\n\n      if (!/\\d{8}/.test(uniformRef.current.value)) {\n        newErrorData.uniform = \"請輸入正確統一編號\";\n      }\n\n      if (!/[A-Z]\\-\\d{9}\\-\\d{5}\\-\\d{1}/.test(foodNumberRef.current.value)) {\n        newErrorData.foodNumber = \"請輸入正確食品業者登錄字號\";\n      }\n\n      if (contact_telRef.current.value === \"\") {\n        newErrorData.contact_tel = \"請輸入聯絡人電話\";\n      }\n\n      if (contact_nameRef.current.value === \"\") {\n        newErrorData.contact_name = \"請輸入聯絡人姓名\";\n      }\n\n      if (owner_nameRef.current.value === \"\") {\n        newErrorData.owner_name = \"請輸入負責人姓名\";\n      }\n\n      if (conpanyNameRef.current.value === \"\") {\n        newErrorData.conpanyName = \"請輸入公司名稱\";\n      } // eslint-disable-next-line no-useless-escape\n\n\n      if (!/09\\d{2}\\-?\\d{3}\\-?\\d{3}/.test(contact_telRef.current.value)) {\n        newErrorData.contact_tel = \"請輸入正確手機格式\";\n      }\n\n      if (!/.+@/.test(contact_emailRef.current.value)) {\n        newErrorData.contact_email = \"請輸入正確信箱格式\";\n      }\n\n      if (contact_emailRef.current.value === \"\") {\n        newErrorData.contact_email = \"請輸入聯絡人信箱\";\n      }\n\n      console.log(\"更新失敗\", newErrorData);\n      setErrorMessage(newErrorData);\n    } else {\n      Swal.fire({\n        title: \"確定要修改公司資料嗎?\",\n        text: \"請確認是否要將資料修改，修改後將無法復原\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#009E88\",\n        cancelButtonColor: \"#C8CED3\",\n        cancelButtonText: \"取消\",\n        confirmButtonText: \"確定\",\n        reverseButtons: true\n      }).then(result => {\n        if (result.isConfirmed) {\n          Swal.fire({\n            title: \"修改成功!\",\n            text: \"公司資料已修改完成.\",\n            icon: \"success\",\n            confirmButtonColor: \"#00BFA5\",\n            confirmButtonText: \"確定\"\n          });\n          console.log(\"正確通過\");\n          companyEditApi({\n            id: companyid,\n            name: conpanyNameRef.current.value,\n            uniform: uniformRef.current.value,\n            owner_name: owner_nameRef.current.value,\n            contact_name: contact_nameRef.current.value,\n            contact_tel: contact_telRef.current.value,\n            contact_email: contact_emailRef.current.value,\n            picture: companyShow.picture\n          }).then(res => {\n            getStoreListAPI();\n          }).catch(err => {\n            console.log(err);\n          });\n        }\n      });\n      setErrorMessage(newErrorData);\n    }\n  }; //上傳圖片API\n\n\n  const postStoreIMGAPI = async e => {\n    Array.from(e.target.files).forEach(i => {\n      let formData = new FormData();\n      formData.append(\"file\", i);\n      formData.append(\"folder\", \"company\");\n      imgUploadApi(formData).then(res => {\n        // console.log(res);\n        setCompanyShow({ ...companyShow,\n          picture: res.data.data.file_url\n        });\n      });\n    }); // console.log(e.target.files);\n  };\n\n  useEffect(() => {\n    getStoreListAPI();\n  }, []); // console.log(\"company\", companyShow);\n\n  const history = useHistory();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"storeContext\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"storeGroup\",\n        children: [/*#__PURE__*/_jsxDEV(StoreList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"storeRight\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"storeCreatGroup my-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextTitle\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u7DE8\\u8F2F\\u516C\\u53F8\\u8CC7\\u6599\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"storeCreatTextBody\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatTextItem col-12 col-xl-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: [\"\\u516C\\u53F8\\u540D\\u7A31\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: conpanyNameRef,\n                  type: \"text\",\n                  name: \"storeCompanyName\" // value=\"\"\n                  ,\n                  defaultValue: companyShow.name,\n                  style: {\n                    borderColor: errorMessage.conpanyName ? \"red\" : \"\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 19\n                }, this), errorMessage.conpanyName && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: errorMessage.conpanyName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatTextItem col-12 col-xl-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: [\"\\u7D71\\u4E00\\u7DE8\\u865F\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: uniformRef,\n                  type: \"text\",\n                  name: \"storeUNumbers\" // value=\"\"\n                  ,\n                  defaultValue: companyShow.uniform,\n                  maxLength: \"8\",\n                  style: {\n                    borderColor: errorMessage.uniform ? \"red\" : \"\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this), errorMessage.uniform && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: errorMessage.uniform\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatTextItem col-12 col-xl-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: [\"\\u98DF\\u54C1\\u696D\\u8005\\u767B\\u9304\\u5B57\\u865F\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: foodNumberRef,\n                  type: \"text\",\n                  name: \"storeUNumbers\" // value=\"\"\n                  ,\n                  defaultValue: companyShow.foodNumber,\n                  maxLength: \"19\",\n                  style: {\n                    borderColor: errorMessage.foodNumber ? \"red\" : \"\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this), errorMessage.foodNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: errorMessage.foodNumber\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatTextItem col-12 col-xl-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: [\"\\u806F\\u7D61\\u4EBA\\u59D3\\u540D\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 26\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: contact_nameRef,\n                  type: \"text\",\n                  name: \"storeCompanyContactName\",\n                  defaultValue: companyShow.contact_name,\n                  style: {\n                    borderColor: errorMessage.contact_name ? \"red\" : \"\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this), errorMessage.contact_name && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: errorMessage.contact_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatTextItem col-12 col-xl-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: [\"\\u806F\\u7D61\\u4EBA\\u96FB\\u8A71\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 26\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: contact_telRef,\n                  type: \"text\",\n                  name: \"storeCompanyContactCell\",\n                  defaultValue: companyShow.contact_tel,\n                  maxLength: \"10\",\n                  style: {\n                    borderColor: errorMessage.contact_tel ? \"red\" : \"\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this), errorMessage.contact_tel && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: errorMessage.contact_tel\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatTextItem col-12 col-xl-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: [\"\\u806F\\u7D61\\u4EBA\\u4FE1\\u7BB1\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 26\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: contact_emailRef,\n                  type: \"text\",\n                  name: \"storeCompanyContactEmail\",\n                  defaultValue: companyShow.contact_email // value=\"\"\n                  ,\n                  style: {\n                    borderColor: errorMessage.contact_email ? \"red\" : \"\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 19\n                }, this), errorMessage.contact_email && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: errorMessage.contact_email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatTextItem col-12 col-xl-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: [\"\\u8CA0\\u8CAC\\u4EBA\\u59D3\\u540D\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 26\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: owner_nameRef,\n                  type: \"text\",\n                  name: \"storePrincipalName\" // value=\"\"\n                  ,\n                  defaultValue: companyShow.owner_name,\n                  style: {\n                    borderColor: errorMessage.owner_name ? \"red\" : \"\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this), errorMessage.owner_name && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: errorMessage.owner_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatTextItem col-12 col-xl-4 \",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: [\"\\u8CA0\\u8CAC\\u4EBA\\u8EAB\\u5206\\u8B49\\u5B57\\u865F\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: principalNniformRef,\n                  type: \"text\",\n                  name: \"storePrincipalNniform\" // value=\"\"\n                  ,\n                  defaultValue: companyShow.principalNniform,\n                  maxLength: \"10\",\n                  style: {\n                    borderColor: errorMessage.principalNniform ? \"red\" : \"\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 19\n                }, this), errorMessage.principalNniform && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\"\n                  },\n                  children: errorMessage.principalNniform\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"storeCreatTextItem col-12 col-xl-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: \"\\u516C\\u53F8\\u5546\\u6A19\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  accept: \"image/png, image/jpeg\",\n                  ref: pictureRef,\n                  className: \"ps-0\",\n                  type: \"file\",\n                  required: true,\n                  placeholder: \"\\u8ACB\\u8F38\\u5165\",\n                  onChange: postStoreIMGAPI,\n                  name: \"storeCompanyContactLogo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  style: {\n                    color: \"#768192\"\n                  },\n                  children: \"\\u5EFA\\u8B70\\u5C3A\\u5BF8 500px*500px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    width: \"150px\",\n                    height: \"150px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: companyShow.picture,\n                    alt: \"\",\n                    style: {\n                      width: \"100%\",\n                      height: \"100%\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary mx-2\",\n                onClick: () => {\n                  history.push(\"/store\");\n                },\n                children: \"\\u8FD4\\u56DE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success text-white mx-2\",\n                onClick: () => {\n                  postCompanyUpdate();\n                },\n                children: \"\\u78BA\\u8A8D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n}\n\n_s(StoreCompanyEdit, \"r5hJoNp11I7RGWOCPQJ88/51wNM=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = StoreCompanyEdit;\nexport default StoreCompanyEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreCompanyEdit\");","map":{"version":3,"sources":["D:/JsMff/src/pages/cms/Store/StoreCompanyEdit.js"],"names":["React","useState","useEffect","useRef","useParams","StoreList","useHistory","companyShowApi","companyEditApi","Swal","imgUploadApi","StoreCompanyEdit","conpanyNameRef","uniformRef","owner_nameRef","contact_nameRef","contact_telRef","contact_emailRef","pictureRef","foodNumberRef","principalNniformRef","companyid","card","startttttt","replace","console","log","companyShow","setCompanyShow","getStoreListAPI","repCompanyShow","data","dataInfo","error","errorMessage","setErrorMessage","postCompanyUpdate","newErrorData","current","value","test","principalNniform","uniform","foodNumber","contact_tel","contact_name","owner_name","conpanyName","contact_email","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","reverseButtons","then","result","isConfirmed","id","name","picture","res","catch","err","postStoreIMGAPI","e","Array","from","target","files","forEach","i","formData","FormData","append","file_url","history","color","borderColor","width","height","push"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport StoreList from \"../../../components/Store/StoreList\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { companyShowApi, companyEditApi } from \"../../../middleware/api\";\r\nimport Swal from \"sweetalert2\";\r\n//上傳圖片\r\nimport { imgUploadApi } from \"../../../middleware/api\";\r\nfunction StoreCompanyEdit() {\r\n  const conpanyNameRef = useRef();\r\n  const uniformRef = useRef();\r\n  const owner_nameRef = useRef();\r\n  const contact_nameRef = useRef();\r\n  const contact_telRef = useRef();\r\n  const contact_emailRef = useRef();\r\n  const pictureRef = useRef();\r\n  const foodNumberRef = useRef();\r\n  const principalNniformRef = useRef();\r\n  let { companyid } = useParams();\r\n  //隱藏身分證字號前三後三\r\n  const card = \"L123456789\";\r\n  const startttttt = card.replace(/^(.{3})(?:\\d+)(.{3})$/, \"$1***$2\");\r\n  console.log(startttttt);\r\n  const [companyShow, setCompanyShow] = useState([]);\r\n  const getStoreListAPI = async () => {\r\n    try {\r\n      const repCompanyShow = await companyShowApi(companyid);\r\n      setCompanyShow(repCompanyShow.data.data.dataInfo);\r\n    } catch (error) {\r\n      console.log(\"異常\", error);\r\n    }\r\n  };\r\n  const [errorMessage, setErrorMessage] = useState({});\r\n  const postCompanyUpdate = () => {\r\n    let newErrorData = {};\r\n    if (\r\n      contact_nameRef.current.value === \"\" ||\r\n      owner_nameRef.current.value === \"\" ||\r\n      conpanyNameRef.current.value === \"\" ||\r\n      !/[A-Z]\\-\\d{9}\\-\\d{5}\\-\\d{1}/.test(foodNumberRef.current.value) ||\r\n      !/[A-Z]\\d{9}/.test(principalNniformRef.current.value) ||\r\n      !/\\d{8}/.test(uniformRef.current.value) ||\r\n      contact_telRef.current.value === \"\" ||\r\n      // eslint-disable-next-line no-useless-escape\r\n      !/09\\d{2}\\-?\\d{3}\\-?\\d{3}/.test(contact_telRef.current.value) ||\r\n      contact_emailRef.current.value === \"\" ||\r\n      !/.+@/.test(contact_emailRef.current.value)\r\n    ) {\r\n      if (!/[A-Z]\\d{9}/.test(principalNniformRef.current.value)) {\r\n        newErrorData.principalNniform = \"請輸入正確身分證字號\";\r\n      }\r\n      if (!/\\d{8}/.test(uniformRef.current.value)) {\r\n        newErrorData.uniform = \"請輸入正確統一編號\";\r\n      }\r\n      if (!/[A-Z]\\-\\d{9}\\-\\d{5}\\-\\d{1}/.test(foodNumberRef.current.value)) {\r\n        newErrorData.foodNumber = \"請輸入正確食品業者登錄字號\";\r\n      }\r\n\r\n      if (contact_telRef.current.value === \"\") {\r\n        newErrorData.contact_tel = \"請輸入聯絡人電話\";\r\n      }\r\n      if (contact_nameRef.current.value === \"\") {\r\n        newErrorData.contact_name = \"請輸入聯絡人姓名\";\r\n      }\r\n\r\n      if (owner_nameRef.current.value === \"\") {\r\n        newErrorData.owner_name = \"請輸入負責人姓名\";\r\n      }\r\n      if (conpanyNameRef.current.value === \"\") {\r\n        newErrorData.conpanyName = \"請輸入公司名稱\";\r\n      }\r\n      // eslint-disable-next-line no-useless-escape\r\n      if (!/09\\d{2}\\-?\\d{3}\\-?\\d{3}/.test(contact_telRef.current.value)) {\r\n        newErrorData.contact_tel = \"請輸入正確手機格式\";\r\n      }\r\n      if (!/.+@/.test(contact_emailRef.current.value)) {\r\n        newErrorData.contact_email = \"請輸入正確信箱格式\";\r\n      }\r\n      if (contact_emailRef.current.value === \"\") {\r\n        newErrorData.contact_email = \"請輸入聯絡人信箱\";\r\n      }\r\n      console.log(\"更新失敗\", newErrorData);\r\n\r\n      setErrorMessage(newErrorData);\r\n    } else {\r\n      Swal.fire({\r\n        title: \"確定要修改公司資料嗎?\",\r\n        text: \"請確認是否要將資料修改，修改後將無法復原\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#009E88\",\r\n        cancelButtonColor: \"#C8CED3\",\r\n        cancelButtonText: \"取消\",\r\n        confirmButtonText: \"確定\",\r\n        reverseButtons: true,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          Swal.fire({\r\n            title: \"修改成功!\",\r\n            text: \"公司資料已修改完成.\",\r\n            icon: \"success\",\r\n            confirmButtonColor: \"#00BFA5\",\r\n            confirmButtonText: \"確定\",\r\n          });\r\n          console.log(\"正確通過\");\r\n\r\n          companyEditApi({\r\n            id: companyid,\r\n            name: conpanyNameRef.current.value,\r\n            uniform: uniformRef.current.value,\r\n            owner_name: owner_nameRef.current.value,\r\n            contact_name: contact_nameRef.current.value,\r\n            contact_tel: contact_telRef.current.value,\r\n            contact_email: contact_emailRef.current.value,\r\n            picture: companyShow.picture,\r\n          })\r\n            .then((res) => {\r\n              getStoreListAPI();\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n            });\r\n        }\r\n      });\r\n\r\n      setErrorMessage(newErrorData);\r\n    }\r\n  };\r\n\r\n  //上傳圖片API\r\n  const postStoreIMGAPI = async (e) => {\r\n    Array.from(e.target.files).forEach((i) => {\r\n      let formData = new FormData();\r\n      formData.append(\"file\", i);\r\n      formData.append(\"folder\", \"company\");\r\n      imgUploadApi(formData).then((res) => {\r\n        // console.log(res);\r\n        setCompanyShow({\r\n          ...companyShow,\r\n          picture: res.data.data.file_url,\r\n        });\r\n      });\r\n    });\r\n    // console.log(e.target.files);\r\n  };\r\n  useEffect(() => {\r\n    getStoreListAPI();\r\n  }, []);\r\n  // console.log(\"company\", companyShow);\r\n  const history = useHistory();\r\n  return (\r\n    <div>\r\n      <div className=\"storeContext\">\r\n        <div className=\"storeGroup\">\r\n          <StoreList />\r\n          <div className=\"storeRight\">\r\n            <div className=\"storeCreatGroup my-0\">\r\n              <div className=\"storeCreatTextTitle\">\r\n                <p>編輯公司資料</p>\r\n              </div>\r\n              <div className=\"storeCreatTextBody\">\r\n                <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                  <h6>\r\n                    公司名稱<span style={{ color: \"red\" }}>*</span>\r\n                  </h6>\r\n\r\n                  <input\r\n                    ref={conpanyNameRef}\r\n                    type=\"text\"\r\n                    name=\"storeCompanyName\"\r\n                    // value=\"\"\r\n                    defaultValue={companyShow.name}\r\n                    style={{\r\n                      borderColor: errorMessage.conpanyName ? \"red\" : \"\",\r\n                    }}\r\n                  />\r\n                  {errorMessage.conpanyName && (\r\n                    <span style={{ color: \"red\" }}>\r\n                      {errorMessage.conpanyName}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                  <h6>\r\n                    統一編號<span style={{ color: \"red\" }}>*</span>\r\n                  </h6>\r\n                  <input\r\n                    ref={uniformRef}\r\n                    type=\"text\"\r\n                    name=\"storeUNumbers\"\r\n                    // value=\"\"\r\n                    defaultValue={companyShow.uniform}\r\n                    maxLength=\"8\"\r\n                    style={{ borderColor: errorMessage.uniform ? \"red\" : \"\" }}\r\n                  />\r\n                  {errorMessage.uniform && (\r\n                    <span style={{ color: \"red\" }}>{errorMessage.uniform}</span>\r\n                  )}\r\n                </div>\r\n                <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                  <h6>\r\n                    食品業者登錄字號<span style={{ color: \"red\" }}>*</span>\r\n                  </h6>\r\n                  <input\r\n                    ref={foodNumberRef}\r\n                    type=\"text\"\r\n                    name=\"storeUNumbers\"\r\n                    // value=\"\"\r\n                    defaultValue={companyShow.foodNumber}\r\n                    maxLength=\"19\"\r\n                    style={{\r\n                      borderColor: errorMessage.foodNumber ? \"red\" : \"\",\r\n                    }}\r\n                  />\r\n                  {errorMessage.foodNumber && (\r\n                    <span style={{ color: \"red\" }}>\r\n                      {errorMessage.foodNumber}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                  <h6>\r\n                    聯絡人姓名<span style={{ color: \"red\" }}>*</span>\r\n                  </h6>\r\n                  <input\r\n                    ref={contact_nameRef}\r\n                    type=\"text\"\r\n                    name=\"storeCompanyContactName\"\r\n                    defaultValue={companyShow.contact_name}\r\n                    style={{\r\n                      borderColor: errorMessage.contact_name ? \"red\" : \"\",\r\n                    }}\r\n                  />\r\n                  {errorMessage.contact_name && (\r\n                    <span style={{ color: \"red\" }}>\r\n                      {errorMessage.contact_name}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                  <h6>\r\n                    聯絡人電話<span style={{ color: \"red\" }}>*</span>\r\n                  </h6>\r\n                  <input\r\n                    ref={contact_telRef}\r\n                    type=\"text\"\r\n                    name=\"storeCompanyContactCell\"\r\n                    defaultValue={companyShow.contact_tel}\r\n                    maxLength=\"10\"\r\n                    style={{\r\n                      borderColor: errorMessage.contact_tel ? \"red\" : \"\",\r\n                    }}\r\n                  />\r\n                  {errorMessage.contact_tel && (\r\n                    <span style={{ color: \"red\" }}>\r\n                      {errorMessage.contact_tel}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                  <h6>\r\n                    聯絡人信箱<span style={{ color: \"red\" }}>*</span>\r\n                  </h6>\r\n                  <input\r\n                    ref={contact_emailRef}\r\n                    type=\"text\"\r\n                    name=\"storeCompanyContactEmail\"\r\n                    defaultValue={companyShow.contact_email}\r\n                    // value=\"\"\r\n                    style={{\r\n                      borderColor: errorMessage.contact_email ? \"red\" : \"\",\r\n                    }}\r\n                  />\r\n                  {errorMessage.contact_email && (\r\n                    <span style={{ color: \"red\" }}>\r\n                      {errorMessage.contact_email}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                  <h6>\r\n                    負責人姓名<span style={{ color: \"red\" }}>*</span>\r\n                  </h6>\r\n                  <input\r\n                    ref={owner_nameRef}\r\n                    type=\"text\"\r\n                    name=\"storePrincipalName\"\r\n                    // value=\"\"\r\n                    defaultValue={companyShow.owner_name}\r\n                    style={{\r\n                      borderColor: errorMessage.owner_name ? \"red\" : \"\",\r\n                    }}\r\n                  />\r\n                  {errorMessage.owner_name && (\r\n                    <span style={{ color: \"red\" }}>\r\n                      {errorMessage.owner_name}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"storeCreatTextItem col-12 col-xl-4 \">\r\n                  <h6>\r\n                    負責人身分證字號<span style={{ color: \"red\" }}>*</span>\r\n                  </h6>\r\n                  <input\r\n                    ref={principalNniformRef}\r\n                    type=\"text\"\r\n                    name=\"storePrincipalNniform\"\r\n                    // value=\"\"\r\n                    defaultValue={companyShow.principalNniform}\r\n                    maxLength=\"10\"\r\n                    style={{\r\n                      borderColor: errorMessage.principalNniform ? \"red\" : \"\",\r\n                    }}\r\n                  />\r\n                  {errorMessage.principalNniform && (\r\n                    <span style={{ color: \"red\" }}>\r\n                      {errorMessage.principalNniform}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"storeCreatTextItem col-12 col-xl-4\">\r\n                  <h6>公司商標</h6>\r\n                  <input\r\n                    accept=\"image/png, image/jpeg\"\r\n                    ref={pictureRef}\r\n                    className=\"ps-0\"\r\n                    type=\"file\"\r\n                    required={true}\r\n                    placeholder=\"請輸入\"\r\n                    onChange={postStoreIMGAPI}\r\n                    name=\"storeCompanyContactLogo\"\r\n                  />\r\n                  <br />\r\n                  <small style={{ color: \"#768192\" }}>\r\n                    建議尺寸 500px*500px\r\n                  </small>\r\n                  <div style={{ width: \"150px\", height: \"150px\" }}>\r\n                    <img\r\n                      src={companyShow.picture}\r\n                      alt=\"\"\r\n                      style={{ width: \"100%\", height: \"100%\" }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"text-center py-3\">\r\n                <button\r\n                  className=\"btn btn-secondary mx-2\"\r\n                  onClick={() => {\r\n                    history.push(\"/store\");\r\n                  }}\r\n                >\r\n                  返回\r\n                </button>\r\n                <button\r\n                  className=\"btn btn-success text-white mx-2\"\r\n                  onClick={() => {\r\n                    postCompanyUpdate();\r\n                  }}\r\n                >\r\n                  確認\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StoreCompanyEdit;\r\n"]},"metadata":{},"sourceType":"module"}