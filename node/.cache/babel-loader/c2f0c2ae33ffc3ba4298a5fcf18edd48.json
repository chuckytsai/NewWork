{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chucky\\\\Documents\\\\GitHub\\\\NewWorks\\\\NewWork\\\\src\\\\pages\\\\memorandum\\\\CalendarAlert.js\";\nimport \"../../styles/work/Schedule/CalendarAlert.css\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { StoreEvent } from \"./CalendarGroup\";\nimport { CallLoanding, CloseLoanding } from \"../../components/Loading\";\nimport 'antd/dist/antd.css';\nimport { Transfer } from 'antd'; // 引入Json檔案\n\nimport { ScheduleList } from \"../../components/Json/ScheduleList.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet targetKeyArrey = [];\nlet targetKeys = [];\nlet mockData = [];\nlet ChangeStore = false; // 店家排程穿越框\n\nexport function CalendarAlerts(props) {\n  setTimeout(() => {\n    targetKeys = [];\n    targetKeyArrey = [];\n    mockData = [];\n  }, 200);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"CalendarAlertGroup\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"\\u7576\\u65E5\\u6392\\u73ED\\u8868\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          ReactDOM.render( /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 33\n          }, this), document.getElementsByClassName(\"calendarAlert\")[0]);\n          document.getElementsByClassName(\"calendarAlert\")[0].classList.remove(\"calendarAlertbBackground\");\n          setTimeout(() => {\n            targetKeys = [];\n            targetKeyArrey = [];\n            mockData = [];\n          }, 200);\n        },\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CalendarAlertBusinessTime\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u9078\\u64C7\\u6642\\u6BB5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"CalendarAlertSelectTime\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: null,\n          children: \"\\u8ACB\\u9078\\u64C7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"10:00~14:00\",\n          children: \"10:00~14:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"14:00~18:00\",\n          children: \"14:00~18:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"18:00~22:00\",\n          children: \"18:00~22:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"IndigoBtn CalendarAlertSearch\",\n        children: \"\\u641C\\u5C0B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"SelectMonth\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"AlertLastWeek\",\n          onClick: props.LastClick,\n          children: '<'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"AlertNextWeek\",\n          onClick: props.NextClick,\n          children: '>'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"WhatDateText\",\n        children: props.time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SelectBusinessGroup\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"SelectBusinessCombo\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SelectBusinessTitle\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u8A72\\u6642\\u6BB5\\u4E0A\\u73ED\\u54E1\\u5DE5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u8A72\\u6642\\u6BB5\\u4F11\\u606F\\u54E1\\u5DE5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(ListApp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          className: \"SelectBusinessBtns\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              ReactDOM.render( /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 41\n              }, this), document.getElementsByClassName(\"calendarAlert\")[0]);\n              document.getElementsByClassName(\"calendarAlert\")[0].classList.remove(\"calendarAlertbBackground\");\n              setTimeout(() => {\n                targetKeys = [];\n                targetKeyArrey = [];\n                mockData = [];\n              }, 200);\n            },\n            children: \"\\u8FD4\\u56DE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \" ForestBtn CalendarAlertChick\",\n            onClick: () => {\n              function Close() {\n                ReactDOM.render( /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 49\n                }, this), document.getElementsByClassName(\"calendarAlert\")[0]);\n                document.getElementsByClassName(\"calendarAlert\")[0].classList.remove(\"calendarAlertbBackground\");\n                StoreEvent();\n              }\n\n              if (ChangeStore === true) {\n                console.log(targetKeyArrey);\n\n                for (let x = 0; x < ScheduleList.length; x++) {\n                  if (ScheduleList[x][0][\"date\"] === document.getElementsByClassName(\"WhatDateText\")[0].textContent) {}\n                }\n\n                setTimeout(() => {\n                  ChangeStore = false;\n                }, 500);\n              } else {\n                Close();\n              }\n            },\n            children: \"\\u78BA\\u8A8D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 12\n  }, this);\n} // 取得 休息員工 &&  上工的員工\n\n_c = CalendarAlerts;\n\nclass ListApp extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mockData: [],\n      targetKeys: []\n    };\n\n    this.getMock = () => {\n      if (mockData.length > 0) {\n        mockData = [];\n      }\n\n      let WhatDateText = document.getElementsByClassName(\"WhatDateText\")[0].textContent;\n\n      for (let x = 0; x < ScheduleList.length; x++) {\n        for (let y = 0; y < ScheduleList[x].length; y++) {\n          if (ScheduleList[x][y][\"date\"] === WhatDateText) {\n            let data1 = {\n              key: y.toString(),\n              title: ScheduleList[x][y][\"name\"]\n            };\n\n            if (data1.chosen) {\n              targetKeys.push(data1.key);\n            }\n\n            if (document.getElementsByClassName(\"CalendarAlertSelectTime\")[0].value !== \"請選擇\") {\n              mockData.push(data1);\n              this.setState({\n                mockData,\n                targetKeys\n              });\n            }\n          }\n        }\n      }\n\n      let getListAPI = async () => {\n        let WhatDateText = document.getElementsByClassName(\"WhatDateText\")[0];\n        let CalendarAlertSelectTime = document.getElementsByClassName(\"CalendarAlertSelectTime\")[0];\n\n        for (let i = 0; i < ScheduleList.length; i++) {\n          if (ScheduleList[i][0].date === WhatDateText.textContent) {\n            for (let j = 0; j < ScheduleList[i].length; j++) {\n              if (ScheduleList[i][j][\"business_time\"] === CalendarAlertSelectTime.value && ScheduleList[i][j][\"work\"] === true) {\n                let data1 = {\n                  key: ScheduleList[i][j][\"name\"],\n                  title: ScheduleList[i][j][\"name\"]\n                };\n\n                if (data1.chosen) {\n                  targetKeys.push(data1.key);\n                }\n\n                mockData.push(data1);\n              }\n            }\n          }\n        }\n\n        for (let x = 0; x < ScheduleList.length; x++) {\n          if (ScheduleList[x][0].date === WhatDateText.textContent) {\n            for (let y = 0; y < ScheduleList[x].length; y++) {\n              if (ScheduleList[x][y][\"business_time\"] === CalendarAlertSelectTime.value && ScheduleList[x][y][\"work\"] === false) {\n                let data2 = {\n                  key: ScheduleList[x][y][\"name\"],\n                  title: ScheduleList[x][y][\"name\"],\n                  chosen: x >= 0 //被選擇\n\n                };\n\n                if (data2.chosen) {\n                  targetKeys.push(data2.key);\n                }\n\n                mockData.push(data2);\n              }\n            }\n          }\n        }\n\n        this.setState({\n          mockData,\n          targetKeys\n        });\n        setTimeout(() => {\n          CloseLoanding();\n        }, 200);\n      };\n\n      function changeDOM() {\n        setTimeout(() => {\n          targetKeys = [];\n          mockData = [];\n\n          if (document.getElementsByClassName(\"CalendarAlertSelectTime\")[0].value !== \"請選擇\") {\n            CallLoanding();\n            getListAPI();\n          }\n\n          ;\n        }, 100);\n      }\n\n      setTimeout(() => {\n        setTimeout(() => {\n          let CalendarAlertSearch = document.getElementsByClassName(\"CalendarAlertSearch\");\n          let AlertLastWeek = document.getElementsByClassName(\"AlertLastWeek\");\n          let AlertNextWeek = document.getElementsByClassName(\"AlertNextWeek\");\n\n          if (CalendarAlertSearch.length > 0) {\n            CalendarAlertSearch[0].addEventListener(\"click\", changeDOM, false);\n            AlertLastWeek[0].addEventListener(\"click\", changeDOM, false);\n            AlertNextWeek[0].addEventListener(\"click\", changeDOM, false);\n          }\n\n          ;\n        }, 300);\n      }, 1000);\n    };\n\n    this.filterOption = (inputValue, option) => option.description.indexOf(inputValue) > -1;\n\n    this.handleChange = targetKeys => {\n      ChangeStore = true;\n      this.setState({\n        targetKeys\n      });\n      targetKeyArrey = [];\n\n      for (let x = 0; x < targetKeys.length; x++) {\n        targetKeyArrey.push({\n          \"date\": document.getElementsByClassName(\"WhatDateText\")[0].textContent,\n          \"name\": targetKeys[x],\n          \"work\": false,\n          \"business_time\": document.getElementsByClassName(\"CalendarAlertSelectTime\")[0].value\n        });\n      }\n    };\n\n    this.handleSearch = (dir, value) => {\n      console.log('search:', dir, value);\n    };\n  }\n\n  componentDidMount() {\n    this.getMock();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Transfer, {\n      dataSource: this.state.mockData,\n      locale: {\n        itemUnit: \"項\",\n        itemsUnit: \"項\",\n        searchPlaceholder: \"請輸入搜尋內容\"\n      },\n      showSearch: true,\n      targetKeys: this.state.targetKeys,\n      onChange: this.handleChange,\n      onSearch: this.handleSearch,\n      render: item => item.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"CalendarAlerts\");","map":{"version":3,"sources":["C:/Users/chucky/Documents/GitHub/NewWorks/NewWork/src/pages/memorandum/CalendarAlert.js"],"names":["React","ReactDOM","StoreEvent","CallLoanding","CloseLoanding","Transfer","ScheduleList","targetKeyArrey","targetKeys","mockData","ChangeStore","CalendarAlerts","props","setTimeout","render","document","getElementsByClassName","classList","remove","LastClick","NextClick","time","Close","console","log","x","length","textContent","ListApp","Component","state","getMock","WhatDateText","y","data1","key","toString","title","chosen","push","value","setState","getListAPI","CalendarAlertSelectTime","i","date","j","data2","changeDOM","CalendarAlertSearch","AlertLastWeek","AlertNextWeek","addEventListener","filterOption","inputValue","option","description","indexOf","handleChange","handleSearch","dir","componentDidMount","itemUnit","itemsUnit","searchPlaceholder","item"],"mappings":"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","sourcesContent":["import \"../../styles/work/Schedule/CalendarAlert.css\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { StoreEvent } from \"./CalendarGroup\";\r\nimport { CallLoanding, CloseLoanding } from \"../../components/Loading\";\r\nimport 'antd/dist/antd.css';\r\nimport { Transfer } from 'antd';\r\n// 引入Json檔案\r\nimport { ScheduleList } from \"../../components/Json/ScheduleList.json\";\r\n\r\nlet targetKeyArrey = [];\r\nlet targetKeys = [];\r\nlet mockData = [];\r\nlet ChangeStore = false;\r\n// 店家排程穿越框\r\nexport function CalendarAlerts(props) {\r\n    setTimeout(() => {\r\n        targetKeys = [];\r\n        targetKeyArrey = [];\r\n        mockData = [];\r\n    }, 200);\r\n    return <div className=\"CalendarAlertGroup\">\r\n        <nav>\r\n            <h6>當日排班表</h6>\r\n            <button onClick={() => {\r\n                ReactDOM.render(<div />, document.getElementsByClassName(\"calendarAlert\")[0]);\r\n                document.getElementsByClassName(\"calendarAlert\")[0].classList.remove(\"calendarAlertbBackground\");\r\n                setTimeout(() => {\r\n                    targetKeys = [];\r\n                    targetKeyArrey = [];\r\n                    mockData = [];\r\n                }, 200);\r\n            }}>X</button>\r\n        </nav>\r\n        <div className=\"CalendarAlertBusinessTime\">\r\n            <p>選擇時段</p>\r\n            <select className=\"CalendarAlertSelectTime\">\r\n                <option value={null}>請選擇</option>\r\n                <option value={\"10:00~14:00\"}>10:00~14:00</option>\r\n                <option value={\"14:00~18:00\"}>14:00~18:00</option>\r\n                <option value={\"18:00~22:00\"}>18:00~22:00</option>\r\n            </select>\r\n            <button className=\"IndigoBtn CalendarAlertSearch\">搜尋</button>\r\n        </div>\r\n        <div className=\"SelectMonth\">\r\n            <span>\r\n                <button className=\"AlertLastWeek\" onClick={props.LastClick}>{'<'}</button>\r\n                <button className=\"AlertNextWeek\" onClick={props.NextClick}>{'>'}</button>\r\n            </span>\r\n            <h1 className=\"WhatDateText\">{props.time}</h1>\r\n        </div>\r\n        <div>\r\n            <div className=\"SelectBusinessGroup\">\r\n                <div className=\"SelectBusinessCombo\">\r\n                    <div className=\"SelectBusinessTitle\">\r\n                        <p>該時段上班員工</p>\r\n                        <p>該時段休息員工</p>\r\n                    </div>\r\n                    <ListApp />\r\n                </div>\r\n                <footer className=\"SelectBusinessBtns\">\r\n                    <button onClick={() => {\r\n                        ReactDOM.render(<div />, document.getElementsByClassName(\"calendarAlert\")[0]);\r\n                        document.getElementsByClassName(\"calendarAlert\")[0].classList.remove(\"calendarAlertbBackground\");\r\n                        setTimeout(() => {\r\n                            targetKeys = [];\r\n                            targetKeyArrey = [];\r\n                            mockData = [];\r\n                        }, 200);\r\n                    }}>返回</button>\r\n                    <button className=\" ForestBtn CalendarAlertChick\"\r\n                        onClick={() => {\r\n                            function Close() {\r\n                                ReactDOM.render(<div />, document.getElementsByClassName(\"calendarAlert\")[0]);\r\n                                document.getElementsByClassName(\"calendarAlert\")[0].classList.remove(\"calendarAlertbBackground\");\r\n                                StoreEvent();\r\n                            }\r\n                            if (ChangeStore === true) {\r\n                                console.log(targetKeyArrey);\r\n\r\n                                for (let x = 0; x < ScheduleList.length; x++) {\r\n                                    if (ScheduleList[x][0][\"date\"] === document.getElementsByClassName(\"WhatDateText\")[0].textContent) {\r\n\r\n                                    }\r\n                                }\r\n                                setTimeout(() => { ChangeStore = false; }, 500);\r\n                            } else {\r\n                                Close();\r\n                            }\r\n                        }}>確認</button>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\n// 取得 休息員工 &&  上工的員工\r\nclass ListApp extends React.Component {\r\n    state = { mockData: [], targetKeys: [] };\r\n    componentDidMount() { this.getMock(); }\r\n    getMock = () => {\r\n        if (mockData.length > 0) { mockData = []; }\r\n        let WhatDateText = document.getElementsByClassName(\"WhatDateText\")[0].textContent\r\n        for (let x = 0; x < ScheduleList.length; x++) {\r\n            for (let y = 0; y < ScheduleList[x].length; y++) {\r\n                if (ScheduleList[x][y][\"date\"] === WhatDateText) {\r\n                    let data1 = {\r\n                        key: y.toString(),\r\n                        title: ScheduleList[x][y][\"name\"]\r\n                    };\r\n                    if (data1.chosen) {\r\n                        targetKeys.push(data1.key);\r\n                    }\r\n                    if (document.getElementsByClassName(\"CalendarAlertSelectTime\")[0].value !== \"請選擇\") {\r\n                        mockData.push(data1);\r\n                        this.setState({ mockData, targetKeys });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let getListAPI = async () => {\r\n            let WhatDateText = document.getElementsByClassName(\"WhatDateText\")[0];\r\n            let CalendarAlertSelectTime = document.getElementsByClassName(\"CalendarAlertSelectTime\")[0];\r\n            for (let i = 0; i < ScheduleList.length; i++) {\r\n                if (ScheduleList[i][0].date === WhatDateText.textContent) {\r\n                    for (let j = 0; j < ScheduleList[i].length; j++) {\r\n                        if (ScheduleList[i][j][\"business_time\"] === CalendarAlertSelectTime.value &&\r\n                            ScheduleList[i][j][\"work\"] === true) {\r\n                            let data1 = {\r\n                                key: ScheduleList[i][j][\"name\"],\r\n                                title: ScheduleList[i][j][\"name\"],\r\n                            };\r\n                            if (data1.chosen) {\r\n                                targetKeys.push(data1.key);\r\n                            }\r\n                            mockData.push(data1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (let x = 0; x < ScheduleList.length; x++) {\r\n                if (ScheduleList[x][0].date === WhatDateText.textContent) {\r\n                    for (let y = 0; y < ScheduleList[x].length; y++) {\r\n                        if (ScheduleList[x][y][\"business_time\"] === CalendarAlertSelectTime.value &&\r\n                            ScheduleList[x][y][\"work\"] === false) {\r\n                            let data2 = {\r\n                                key: ScheduleList[x][y][\"name\"],\r\n                                title: ScheduleList[x][y][\"name\"],\r\n                                chosen: x >= 0,  //被選擇\r\n                            };\r\n                            if (data2.chosen) {\r\n                                targetKeys.push(data2.key);\r\n                            }\r\n                            mockData.push(data2);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.setState({ mockData, targetKeys });\r\n            setTimeout(() => { CloseLoanding(); }, 200);\r\n        }\r\n        function changeDOM() {\r\n            setTimeout(() => {\r\n                targetKeys = [];\r\n                mockData = [];\r\n                if (document.getElementsByClassName(\"CalendarAlertSelectTime\")[0].value !== \"請選擇\") {\r\n                    CallLoanding();\r\n                    getListAPI();\r\n                };\r\n            }, 100);\r\n        }\r\n        setTimeout(() => {\r\n            setTimeout(() => {\r\n                let CalendarAlertSearch = document.getElementsByClassName(\"CalendarAlertSearch\");\r\n                let AlertLastWeek = document.getElementsByClassName(\"AlertLastWeek\");\r\n                let AlertNextWeek = document.getElementsByClassName(\"AlertNextWeek\");\r\n                if (CalendarAlertSearch.length > 0) {\r\n                    CalendarAlertSearch[0].addEventListener(\"click\", changeDOM, false);\r\n                    AlertLastWeek[0].addEventListener(\"click\", changeDOM, false);\r\n                    AlertNextWeek[0].addEventListener(\"click\", changeDOM, false);\r\n                };\r\n            }, 300);\r\n        }, 1000);\r\n    };\r\n    filterOption = (inputValue, option) => option.description.indexOf(inputValue) > -1;\r\n    handleChange = targetKeys => {\r\n        ChangeStore = true;\r\n        this.setState({ targetKeys });\r\n        targetKeyArrey = [];\r\n        for (let x = 0; x < targetKeys.length; x++) {\r\n            targetKeyArrey.push({\r\n                \"date\": document.getElementsByClassName(\"WhatDateText\")[0].textContent,\r\n                \"name\": targetKeys[x],\r\n                \"work\": false,\r\n                \"business_time\": document.getElementsByClassName(\"CalendarAlertSelectTime\")[0].value\r\n            });\r\n        }\r\n    };\r\n    handleSearch = (dir, value) => { console.log('search:', dir, value); };\r\n    render() {\r\n        return <Transfer\r\n            dataSource={this.state.mockData}\r\n            locale={({\r\n                itemUnit: \"項\",\r\n                itemsUnit: \"項\",\r\n                searchPlaceholder: \"請輸入搜尋內容\"\r\n            })}\r\n            showSearch\r\n            targetKeys={this.state.targetKeys}\r\n            onChange={this.handleChange}\r\n            onSearch={this.handleSearch}\r\n            render={item => item.title} />\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}